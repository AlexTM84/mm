{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 105ddcb3ad75011040ed","webpack:///mm.min.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///external \"vuex\"","webpack:///external \"vue\"","webpack:///src/components/App.vue","webpack:///src/components/MediaManager.vue","webpack:///src/components/UploadWidget.vue","webpack:///external \"axios\"","webpack:///src/components/MediasWidget.vue","webpack:///src/components/MediaWidget.vue","webpack:///src/components/NotificationWidget.vue","webpack:///./src/GlobalStore.js","webpack:///./src/main.js","webpack:///external \"es6-promise/auto\"","webpack:///./src/components/App.vue","webpack:///./src/components/MediaManager.vue","webpack:///./src/components/UploadWidget.vue","webpack:///./src/components/UploadWidget.vue?e986","webpack:///./src/components/MediasWidget.vue","webpack:///./src/components/MediaWidget.vue","webpack:///./src/components/MediaWidget.vue?0a35","webpack:///./src/components/MediasWidget.vue?4445","webpack:///./src/components/NotificationWidget.vue","webpack:///./src/components/NotificationWidget.vue?48bb","webpack:///./src/FaIconClassHelper.js","webpack:///./src/components/MediaManager.vue?e2b5","webpack:///./src/api.js","webpack:///./src/Store.js","webpack:///./src/components/App.vue?b2d7"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE_12__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_6__","__webpack_require__","moduleId","installedModules","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","type","default","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","concat","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_1_vuex___default","__WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__","__WEBPACK_IMPORTED_MODULE_3__api_js__","__WEBPACK_IMPORTED_MODULE_4__Store__","__WEBPACK_IMPORTED_MODULE_5__GlobalStore__","_extends","assign","target","arguments","length","source","key","basePath","path","api","baseUrl","listUrl","downloadUrl","uploadUrl","input","multipleSelection","onCreated","onMounted","onSelect","showBreadcrumb","height","vue","asVueComponent","accept","components","MediaManager","props","data","store$","watch","opts","deep","handler","commit","selected","Array","isArray","forEach","select","created","vc","_input","computed","overrideOptions","document","querySelector","methods","e","element","value","join","file","deselect","setPath","$emit","globalStore","mounted","store","mediaManager","$refs","el","id","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__","__WEBPACK_IMPORTED_MODULE_2__MediasWidget_vue__","__WEBPACK_IMPORTED_MODULE_3__NotificationWidget_vue__","__WEBPACK_IMPORTED_MODULE_4__FaIconClassHelper__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","TypeError","MediasWidget","UploadWidget","NotificationWidget","relPath","replace","breadcrumb","label","parts","uploadsInPath","$on","selectFile","$store","unselectFile","fileUploaded","getters","isSelected","onUploadSuccess","medias","refresh","onUploadError","deleteFile","deleteUrl","confirmation","confirmDeletion","Function","Promise","resolve","reject","then","renameFile","renameUrl","askNewName","all","basename","createFolderIn","createFolderUrl","askFolderName","parentFolder","checkFile","types","t","RegExp","test","mime","removeUpload","startUpload","updateUpload","faIconClass","__WEBPACK_IMPORTED_MODULE_1_axios__","advancedUpload","dragOver","mmc","$parent","fileInputId","isAdvancedUpload","onDrop","files","dataTransfer","submit","toastr","error","onSubmit","fileInput","form","reset","index","uploading","loaded","total","Math","max","size","success","uploadPath","requests","buildRequest","upload","r","indexOf","reader","onload","thumb","result","readAsDataURL","formData","append","promise","__WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__","MediaWidget","loading","contextMenuFile","contextMenuX","contextMenuY","showContextMenu","canCreateFolder","pathUp","slice","contextMenuStyle","pos","newFile","destroyed","$off","createFolder","list","browse","onMediaClick","onDocumentClick","toggleContextMenuOff","onContextMenu","clientX","clientRect","left","clientY","top","toggleContextMenuOn","addEventListener","removeEventListener","canDelete","canRename","uploadPercentage","round","isAnUpload","abort","filename","abortUpload","createUuid","dt","Date","getTime","random","floor","toString","Vue","use","Vuex","Store","state","mutations","uuid","info","find","f","findIndex","splice","isUploading","uploadingProgress","dirPath","filter","donePromise","actions","dispatch","_classCallCheck","instance","Constructor","MM","__WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_1_vue___default","__WEBPACK_IMPORTED_MODULE_2__components_App_vue__","_createClass","defineProperties","descriptor","writable","protoProps","staticProps","init","component","App","vm","$destroy","$el","innerHTML","injectStyle","normalizeComponent","__vue_styles__","Component","_vm","_h","$createElement","_c","_self","staticClass","class","ref","attrs","on","$event","preventDefault","_v","esExports","interrupted","_m","style","width","stopPropagation","_l","invalid","nativeOn","faIconMatchExtension","extensions","FaIconClassHelper","str","matchingIcon","iconMatch","extension","item","domProps","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","CancelToken","axios","Api","constructor","defaultOptions","axiosOptions","baseURL","create","beforeUpload","conf","computeConfig","params","config","uploadFile","cancelToken","token","url","configured","cancel","post","res","afterUpload","delete","patch","requestConfig","overrideConf","map","mm","resetSelected","addSelected","JSON","parse","stringify","removeSelected","seleted","renameSelected","patchInnerFile","substr","parentPath","lastIndexOf","slashPos","dirname","fileURL","renamed","selectedItem","cleanFile","nbSelected"],"mappings":"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","file":"mm.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise/auto\", \"vue\", \"vuex\", \"axios\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\")) : factory(root[\"es6-promise/auto\"], root[\"vue\"], root[\"vuex\"], root[\"axios\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 105ddcb3ad75011040ed","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise/auto\", \"vue\", \"vuex\", \"axios\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\")) : factory(root[\"es6-promise/auto\"], root[\"vue\"], root[\"vuex\"], root[\"axios\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_js__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Store__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GlobalStore__ = __webpack_require__(10);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_1_vuex___default.a);\n\nvar defaultOptions = {\n  basePath: \"\",\n  path: \"\",\n  api: {\n    baseUrl: null,\n    listUrl: null,\n    downloadUrl: null,\n    uploadUrl: null,\n    options: {}\n  },\n  input: \"\",\n  multipleSelection: false,\n  onCreated: null,\n  onMounted: null,\n  onSelect: null,\n  showBreadcrumb: true,\n  height: null,\n  vue: __WEBPACK_IMPORTED_MODULE_0_vue___default.a,\n  asVueComponent: false,\n  accept: \"\"\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: { MediaManager: __WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__[\"a\" /* default */] },\n  props: [\"id\", \"opts\"],\n  data: function data() {\n    return {\n      store$: null\n    };\n  },\n\n  watch: {\n    opts: {\n      deep: true,\n      handler: function handler() {\n        var _this = this;\n\n        this.options = _extends({}, defaultOptions, this.opts);\n        this.store$.commit(\"resetSelected\");\n        if (this.options.selected) {\n          if (Array.isArray(this.options.selected)) {\n            this.options.selected.forEach(function (f) {\n              _this.select(f);\n            });\n          } else {\n            this.select(this.options.selected);\n          }\n        }\n      }\n    }\n  },\n  created: function created() {\n    this.options = _extends({}, defaultOptions, this.opts);\n\n    /*\n     * Init api\n     */\n    this.api = new __WEBPACK_IMPORTED_MODULE_3__api_js__[\"a\" /* default */](this.options.api);\n\n    if (this.options.onCreated) this.options.onCreated({ vc: this });\n\n    this._input = null;\n  },\n\n  computed: {\n    overrideOptions: function overrideOptions() {\n      return _extends({}, defaultOptions, this.options);\n    },\n    input: function input() {\n      /*\n       * Input options ?\n       */\n      if (!this._input && this.options.input) {\n        this._input = document.querySelector(this.options.input);\n      }\n      return this._input;\n    }\n  },\n  methods: {\n    onSelect: function onSelect(e) {\n      if (this.input) {\n        if (e.selected) {\n          if (this.options.multipleSelection) {\n            var selected = e.selected.map(function (element) {\n              return element.path;\n            });\n            this.input.value = selected.join(\"\\n\");\n          } else {\n            this.input.value = e.selected.path;\n          }\n        } else {\n          this.input.value = \"\";\n        }\n      }\n\n      if (this.options.onSelect) this.options.onSelect(e);\n    },\n    select: function select(file) {\n      this.store$.commit(\"addSelected\", file);\n    },\n    deselect: function deselect(file) {\n      this.store$.commit(\"removeSelected\", file);\n    },\n    setPath: function setPath(path) {\n      this.store$.commit(\"setPath\", path);\n      this.$emit('setpath', path);\n    },\n    globalStore: function globalStore() {\n      return __WEBPACK_IMPORTED_MODULE_5__GlobalStore__[\"a\" /* default */];\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    if (this.options.onMounted) this.options.onMounted({ el: this.$el, vc: this });\n\n    var store = new __WEBPACK_IMPORTED_MODULE_1_vuex___default.a.Store(__WEBPACK_IMPORTED_MODULE_4__Store__[\"a\" /* default */].create(this, this.options));\n    this.store$ = store;\n\n    var mediaManager = this.$refs.mediaManager;\n\n    new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n      el: mediaManager,\n      store: store,\n      render: function render(h) {\n        return h(__WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__[\"a\" /* default */], {\n          props: {\n            id: _this2.id,\n            api: _this2.api,\n            parent: _this2\n          }\n        });\n      }\n    });\n  }\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MediasWidget_vue__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__NotificationWidget_vue__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FaIconClassHelper__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GlobalStore__ = __webpack_require__(10);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"api\", \"id\", \"parent\"],\n  components: {\n    MediasWidget: __WEBPACK_IMPORTED_MODULE_2__MediasWidget_vue__[\"a\" /* default */],\n    UploadWidget: __WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__[\"a\" /* default */],\n    NotificationWidget: __WEBPACK_IMPORTED_MODULE_3__NotificationWidget_vue__[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      path: this.$store.state.options.initialPath || this.$store.state.options.basePath,\n      file: {}\n    };\n  },\n\n  computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"mapState\"])({\n    options: function options(state) {\n      return state.options;\n    },\n    basePath: function basePath(state) {\n      return state.options.basePath;\n    }\n  }), {\n    relPath: function relPath() {\n      return this.path.replace(this.basePath, \"\");\n    },\n    breadcrumb: function breadcrumb() {\n      var parts = this.relPath.split(\"/\"),\n          breadcrumb = [],\n          path = \"\";\n\n      breadcrumb.push({\n        label: '<i class=\"fa fa-fw fa-home\"></i>',\n        path: this.basePath\n      });\n      for (var i = 0; i < parts.length; i++) {\n        if (parts[i]) {\n          path += parts[i] + \"/\";\n          breadcrumb.push({\n            label: parts[i],\n            path: this.basePath + path.replace(/\\/$/, \"\")\n          });\n        }\n      }\n\n      return breadcrumb;\n    },\n    uploadsInPath: function uploadsInPath() {\n      return __WEBPACK_IMPORTED_MODULE_5__GlobalStore__[\"a\" /* default */].getters.uploading(this.path);\n    }\n  }),\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.parent.$on('setpath', function (path) {\n      _this.path = path;\n      _this.$refs.medias && _this.$refs.medias.refresh();\n    });\n  },\n\n  methods: {\n    selectFile: function selectFile(file) {\n      this.$store.commit(\"addSelected\", file);\n    },\n    unselectFile: function unselectFile(file) {\n      this.$store.commit(\"removeSelected\", file);\n    },\n    fileUploaded: function fileUploaded(file) {\n      var selected = this.isSelected(file);\n      this.$store.commit(\"fileUploaded\", file);\n      if (selected && this.options.onSelect instanceof Function) {\n        this.options.onSelect({ selected: this.$store.getters.selected() });\n      }\n    },\n    isSelected: function isSelected(file) {\n      return this.$store.getters.isSelected(file);\n    },\n    onUploadSuccess: function onUploadSuccess() {\n      this.$refs.medias.refresh();\n    },\n    onUploadError: function onUploadError(errors) {\n      //this.$refs.medias.refresh();\n    },\n    deleteFile: function deleteFile(file) {\n      var _this2 = this;\n\n      if (this.options.api.deleteUrl) {\n        var confirmation = void 0;\n        if (this.options.confirmDeletion instanceof Function) {\n          confirmation = this.options.confirmDeletion(file);\n        } else {\n          if (window.confirm(\"Are you sure to remove file \" + file.basename + \"?\")) {\n            confirmation = Promise.resolve();\n          } else {\n            confirmation = Promise.reject();\n          }\n        }\n        confirmation.then(function () {\n          _this2.api.delete(file).then(function () {\n            _this2.$store.commit(\"removeSelected\", file);\n            _this2.$refs.medias.$emit(\"fileDeleted\", file);\n          }, function (e) {\n            if (_this2.options.onError instanceof Function) {\n              _this2.options.onError(e, \"delete\", file);\n            }\n          });\n        }, function () {});\n      }\n    },\n    renameFile: function renameFile(file) {\n      var _this3 = this;\n\n      var name = void 0;\n      if (this.options.api.renameUrl) {\n        if (this.options.askNewName instanceof Function) {\n          name = this.options.askNewName(file);\n        } else if (!(name = (window.prompt(\"Type the new name for \" + file.basename, file.basename) || \"\").trim())) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            name = _ref2[0];\n\n        if (name !== file.basename) {\n          return _this3.api.rename(file, name).then(function (response) {\n            var newFile = response.data;\n            _this3.$store.commit(\"renameSelected\", { file: file, newFile: newFile });\n            _this3.$refs.medias.$emit(\"fileRenamed\", file, newFile);\n          }, function (e) {\n            if (_this3.options.onError instanceof Function) {\n              _this3.options.onError(e, \"rename\", file, name);\n            }\n            return Promise.reject(e);\n          });\n        } else {\n          return Promise.reject();\n        }\n      });\n    },\n    createFolderIn: function createFolderIn(parentFolder) {\n      var _this4 = this;\n\n      var name = void 0;\n      if (this.options.api.createFolderUrl) {\n        if (this.options.askFolderName instanceof Function) {\n          name = this.options.askFolderName(parentFolder);\n        } else if (!(name = window.prompt(\"Type the name of the new folder\"))) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 1),\n            name = _ref4[0];\n\n        return _this4.api.createFolderIn(parentFolder, name);\n      });\n    },\n    checkFile: function checkFile(file) {\n      if (!this.options.accept) {\n        return true;\n      } else if (this.options.accept instanceof Function) {\n        return this.options.accept(file);\n      } else {\n        var types = [];\n        if (typeof this.options.accept === \"string\") {\n          types = [this.options.accept];\n        } else if (Array.isArray(this.options.accept)) {\n          types = this.options.accept;\n        }\n        for (var t in types) {\n          var type = types[t];\n          var re = new RegExp(\"^\" + type.replace(\"*\", \".*\").replace(\"/\", \"\\\\/\") + \"$\", \"i\");\n          if (re.test(file.mime)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    },\n    removeUpload: function removeUpload(file) {\n      return __WEBPACK_IMPORTED_MODULE_5__GlobalStore__[\"a\" /* default */].dispatch(\"removeUpload\", file);\n    },\n    startUpload: function startUpload(file) {\n      return __WEBPACK_IMPORTED_MODULE_5__GlobalStore__[\"a\" /* default */].dispatch(\"startUpload\", file);\n    },\n    updateUpload: function updateUpload(file, info) {\n      return __WEBPACK_IMPORTED_MODULE_5__GlobalStore__[\"a\" /* default */].dispatch(\"updateUpload\", { file: file, info: info });\n    },\n\n    /**\n     * FA icon class helper\n     */\n    faIconClass: function faIconClass(file) {\n      return __WEBPACK_IMPORTED_MODULE_4__FaIconClassHelper__[\"a\" /* default */].getFaIconClass(file);\n    }\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* global toastr */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      advancedUpload: false,\n      dragOver: false\n    };\n  },\n\n  props: [\"path\"],\n  computed: {\n    mmc: function mmc() {\n      return this.$parent;\n    },\n    api: function api() {\n      return this.mmc.api;\n    },\n    fileInputId: function fileInputId() {\n      return this.mmc.id + \"-file-input\";\n    }\n  },\n  mounted: function mounted() {\n    this.advancedUpload = this.isAdvancedUpload();\n  },\n\n  methods: {\n    /**\n     * check drag&drop support\n     */\n    isAdvancedUpload: function isAdvancedUpload() {\n      var div = document.createElement(\"div\");\n      return (\"draggable\" in div || \"ondragstart\" in div && \"ondrop\" in div) && \"FormData\" in window && \"FileReader\" in window;\n    },\n\n    /**\n     * drop handler\n     */\n    onDrop: function onDrop(e) {\n      this.dragOver = false;\n      this.files = [];\n      //console.log(e.dataTransfer.files);\n      if (e.dataTransfer.files) {\n        if (e.dataTransfer.files.length > 0) {\n          this.files = e.dataTransfer.files;\n          this.submit();\n        } else {\n          toastr.error(\"Empty file list.\", \"Error\");\n        }\n      } else {\n        toastr.error(\"Drop error.\", \"Error\");\n      }\n    },\n\n    /**\n     * submit handler\n     */\n    onSubmit: function onSubmit() {\n      if (this.$refs.fileInput.files) {\n        this.files = this.$refs.fileInput.files;\n        this.submit();\n        this.$refs.form.reset();\n      }\n    },\n\n    /**\n     * submit files\n     */\n    submit: function submit() {\n      var _this = this;\n\n      var requests = [];\n      for (var i = 0; i < this.files.length; i++) {\n        var file = this.files[i];\n        file.index = i;\n        var upload = {\n          uploading: true,\n          name: file.name,\n          type: file.type,\n          loaded: 0,\n          total: Math.max(100, file.size),\n          success: false,\n          error: false,\n          uploadPath: this.path\n        };\n        if (file.type) {\n          requests.push(this.buildRequest(file, upload));\n        } else {\n          this.mmc.updateUpload(upload, {\n            loaded: upload.total,\n            error: \"Invalid file.\"\n          });\n        }\n      }\n\n      if (requests.length) {\n        requests.forEach(function (r) {\n          r.then(function (res) {\n            _this.$emit(\"upload-success\", res);\n          }, function (err) {\n            _this.$emit(\"upload-error\", err);\n          });\n        });\n      }\n    },\n\n    /**\n     * build axios request\n     */\n    buildRequest: function buildRequest(file, upload) {\n      var _this2 = this;\n\n      if (file.type.indexOf(\"image/\") != -1) {\n        var reader = new FileReader();\n        reader.onload = function (e) {\n          _this2.mmc.updateUpload(upload, {\n            thumb: e.target.result\n          });\n        };\n        reader.readAsDataURL(file);\n      }\n\n      var formData = new FormData();\n      formData.append(\"path\", this.path);\n      formData.append(\"file\", file);\n      upload.promise = this.api.upload(formData, {\n        onUploadProgress: function onUploadProgress(progressEvent) {\n          _this2.mmc.updateUpload(upload, {\n            loaded: progressEvent.loaded,\n            total: progressEvent.total\n          });\n        }\n      }, upload).then(function (response) {\n        // Remove it\n        _this2.mmc.fileUploaded(upload);\n        _this2.mmc.updateUpload(upload, {\n          success: true\n        });\n        _this2.mmc.removeUpload(upload);\n        return upload;\n      }, function (error) {\n        var message = \"\";\n        if (error.response && error.response.data && Array.isArray(error.response.data)) {\n          var errors = error.response.data;\n          for (var i = 0; i < errors.length; i++) {\n            message += errors[i].message || errors[i];\n          }\n        } else {\n          message = error.message || error;\n        }\n        _this2.mmc.updateUpload(upload, {\n          error: message\n        });\n\n        return Promise.reject({ file: file, error: message });\n      });\n      this.mmc.startUpload(upload);\n      return upload.promise;\n    }\n  }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__ = __webpack_require__(22);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* global $ */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {\n        MediaWidget: __WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__[\"a\" /* default */]\n    },\n    data: function data() {\n        return {\n            files: [],\n            loading: false,\n            error: false,\n            contextMenuFile: {},\n            contextMenuX: 0,\n            contextMenuY: 0,\n            showContextMenu: false\n        };\n    },\n\n    props: ['path', 'uploads'],\n    computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"mapState\"])({\n        basePath: function basePath(state) {\n            return state.options.basePath;\n        }\n    }), {\n        mmc: function mmc() {\n            return this.$parent;\n        },\n        api: function api() {\n            return this.mmc.api;\n        },\n        relPath: function relPath() {\n            return this.path.replace(this.basePath, '');\n        },\n        canCreateFolder: function canCreateFolder() {\n            return this.mmc.options.api.createFolderUrl;\n        },\n        pathUp: function pathUp() {\n            var path = '',\n                index = this.relPath.lastIndexOf('/');\n            if (index > -1) {\n                path = this.relPath.slice(0, index);\n            }\n            return this.basePath + path;\n        },\n        contextMenuStyle: function contextMenuStyle() {\n            return 'left: ' + this.contextMenuX + 'px; top:' + this.contextMenuY + 'px;';\n        }\n    }),\n    watch: {\n        path: function path() {\n            this.refresh();\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n\n        this.refresh();\n\n        this.$on(\"fileDeleted\", function (file) {\n            var pos = _this.files.indexOf(file);\n            if (pos !== -1) {\n                _this.files.splice(pos, 1);\n            }\n        });\n\n        this.$on(\"fileRenamed\", function (file, newFile) {\n            Object.assign(file, newFile);\n        });\n    },\n    destroyed: function destroyed() {\n        this.$off(\"fileDeleted\");\n        this.$off(\"fileRenamed\");\n    },\n\n    methods: {\n        createFolder: function createFolder() {\n            var _this2 = this;\n\n            this.mmc.createFolderIn(this.path).then(function () {\n                _this2.refresh();\n            }, function () {});\n        },\n        refresh: function refresh() {\n            var _this3 = this;\n\n            this.loading = true;\n            this.error = false;\n\n            this.api.list(this.path).then(function (response) {\n                if (Array.isArray(response.data)) {\n                    response.data.sort(function (a, b) {\n                        var as = a.type + '/' + a.basename,\n                            bs = b.type + '/' + b.basename;\n                        return as.localeCompare(bs);\n                    });\n                    _this3.files = response.data;\n                }\n                _this3.loading = false;\n            }, function (error) {\n                // TODO\n                _this3.error = error.toString();\n                _this3.files = [];\n                _this3.loading = false;\n            });\n        },\n        browse: function browse(path) {\n            this.mmc.path = path;\n        },\n        onMediaClick: function onMediaClick(file) {\n            if (file.type == 'dir') {\n                this.browse(file.path);\n            } else {\n                var mmc = this.mmc;\n                if (mmc.isSelected(file)) {\n                    mmc.unselectFile(file);\n                } else {\n                    if (mmc.checkFile(file)) {\n                        mmc.selectFile(file);\n                    }\n                }\n            }\n        },\n        onDocumentClick: function onDocumentClick(e) {\n            this.toggleContextMenuOff();\n        },\n        onContextMenu: function onContextMenu(file, e) {\n            var clientRect = this.mmc.$el.getBoundingClientRect();\n            this.contextMenuFile = file;\n            this.contextMenuX = e.clientX - clientRect.left;\n            this.contextMenuY = e.clientY - clientRect.top;\n            this.toggleContextMenuOn();\n        },\n        toggleContextMenuOn: function toggleContextMenuOn() {\n            this.showContextMenu = true;\n            document.addEventListener('click', this.onDocumentClick);\n        },\n        toggleContextMenuOff: function toggleContextMenuOff() {\n            this.contextMenuFile = {};\n            this.contextMenuX = 0;\n            this.contextMenuY = 0;\n            this.showContextMenu = false;\n            document.removeEventListener('click', this.onDocumentClick);\n        }\n    }\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"file\"],\n  computed: {\n    mmc: function mmc() {\n      return this.$parent.$parent;\n    },\n    selected: function selected() {\n      return this.mmc.isSelected(this.file);\n    },\n    canDelete: function canDelete() {\n      return this.mmc.options.api.deleteUrl;\n    },\n    canRename: function canRename() {\n      return this.mmc.options.api.renameUrl;\n    },\n    uploadPercentage: function uploadPercentage() {\n      return Math.round(this.file.loaded / this.file.total * 100);\n    },\n    isAnUpload: function isAnUpload() {\n      return typeof this.file.abort !== \"undefined\";\n    },\n    filename: function filename() {\n      // filename for uploaded file, name for uploading file\n      return this.file.basename || this.file.name;\n    }\n  },\n  methods: {\n    deleteFile: function deleteFile(file) {\n      this.mmc.deleteFile(file);\n    },\n    renameFile: function renameFile(file) {\n      this.mmc.renameFile(file);\n    },\n    abortUpload: function abortUpload(file) {\n      file.abort();\n      this.mmc.removeUpload(file);\n    }\n  }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {},\n    data: function data() {\n        return {};\n    },\n\n    props: [],\n    computed: {},\n    watch: {},\n    created: function created() {},\n    mounted: function mounted() {},\n\n    methods: {}\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vuex__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_1_vuex___default.a);\n\nfunction createUuid() {\n  var dt = new Date().getTime();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (dt + Math.random() * 16) % 16 | 0;\n    dt = Math.floor(dt / 16);\n    return (c == 'x' ? r : r & 0x3 | 0x8).toString(16);\n  });\n  return uuid;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex___default.a.Store({\n  state: {\n    uploading: []\n  },\n  mutations: {\n    startUpload: function startUpload(state, file) {\n      file.uuid = createUuid();\n      state.uploading.push(file);\n    },\n    updateUpload: function updateUpload(state, _ref) {\n      var file = _ref.file,\n          info = _ref.info;\n\n      var uploading = state.uploading.find(function (f) {\n        return file.path && f.path === file.path || file.uuid && f.uuid === file.uuid;\n      });\n      if (uploading) {\n        Object.assign(uploading, info);\n      }\n    },\n    removeUpload: function removeUpload(state, file) {\n      var index = state.uploading.findIndex(function (f) {\n        return file.path && f.path === file.path || file.uuid && f.uuid === file.uuid;\n      });\n      if (index !== -1) {\n        delete file.uploading;\n        delete file.loaded;\n        delete file.total;\n        delete file.success;\n        delete file.error;\n        delete file.uploadPath;\n        delete file.uuid;\n        delete file.abort;\n        state.uploading.splice(index, 1);\n      }\n    }\n  },\n  getters: {\n    isUploading: function isUploading(state, getters) {\n      return function (file) {\n        return !!state.uploading.find(function (f) {\n          return file.path && f.path === file.path || file.uuid && f.uuid === file.uuid;\n        });\n      };\n    },\n    uploadingProgress: function uploadingProgress(state, getters) {\n      return function (file) {\n        var upload = state.uploading.find(function (f) {\n          return file.path && f.path === file.path || file.uuid && f.uuid === file.uuid;\n        });\n        return upload && 100 * upload.loaded / upload.total || 0;\n      };\n    },\n    uploading: function uploading(state, getters) {\n      return function (dirPath) {\n        return state.uploading.filter(function (f) {\n          return f.uploadPath === dirPath;\n        });\n      };\n    },\n    donePromise: function donePromise(state, getters) {\n      return function (file) {\n        var upload = state.uploading.find(function (f) {\n          return file.path && f.path === file.path || file.uuid && f.uuid === file.uuid;\n        });\n        return upload && upload.promise || Promise.reject();\n      };\n    }\n  },\n  actions: {\n    startUpload: function startUpload(_ref2, file) {\n      var dispatch = _ref2.dispatch,\n          commit = _ref2.commit;\n\n      commit(\"startUpload\", file);\n    },\n    updateUpload: function updateUpload(_ref3, _ref4) {\n      var dispatch = _ref3.dispatch,\n          commit = _ref3.commit;\n      var file = _ref4.file,\n          info = _ref4.info;\n\n      commit(\"updateUpload\", { file: file, info: info });\n    },\n    removeUpload: function removeUpload(_ref5, file) {\n      var dispatch = _ref5.dispatch,\n          commit = _ref5.commit;\n\n      commit(\"removeUpload\", file);\n    }\n  }\n}));\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MM\", function() { return MM; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise_auto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_App_vue__ = __webpack_require__(13);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n// import MediaWidget from './components/MediaWidget';\n\n/**\n * Media Manager\n */\nvar MM = function () {\n    _createClass(MM, null, [{\n        key: 'install',\n        value: function install(vue, options) {\n            vue.component('VueMediaManager', __WEBPACK_IMPORTED_MODULE_2__components_App_vue__[\"a\" /* default */]);\n            // vue.component('MediaWidget', MediaWidget)\n        }\n    }]);\n\n    function MM(opts) {\n        _classCallCheck(this, MM);\n\n        this.options = opts;\n        this.init();\n    }\n\n    _createClass(MM, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            /*\n             * Init Vue\n             */\n            var el = document.querySelector(this.options.el);\n            this.vm = new __WEBPACK_IMPORTED_MODULE_1_vue___default.a({\n                el: this.options.el,\n                render: function render(h) {\n                    return h(__WEBPACK_IMPORTED_MODULE_2__components_App_vue__[\"a\" /* default */], {\n                        props: {\n                            id: el.id,\n                            opts: _this.options\n                        }\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.vm.$destroy();\n            this.vm.$el.innerHTML = '';\n        }\n    }]);\n\n    return MM;\n}();\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(3);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1a5d2c98_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(33);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(14)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1a5d2c98_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaManager_vue__ = __webpack_require__(4);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_618f99fe_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaManager_vue__ = __webpack_require__(30);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(16)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaManager_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_618f99fe_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaManager_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadWidget_vue__ = __webpack_require__(5);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2bd574f2_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadWidget_vue__ = __webpack_require__(19);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(18)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2bd574f2_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-widget\"},[(_vm.advancedUpload)?[_c('div',{staticClass:\"upload-drop-zone\",class:{ 'drag-over': _vm.dragOver }},[_c('form',{ref:\"form\",staticClass:\"animated fadeIn\",attrs:{\"method\":\"post\",\"enctype\":\"multipart/form-data\"},on:{\"dragover\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragenter\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragleave\":function($event){$event.preventDefault();_vm.dragOver=false},\"dragend\":function($event){$event.preventDefault();_vm.dragOver=false},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)},\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('svg',{staticClass:\"upload-widget-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"50\",\"height\":\"43\",\"viewBox\":\"0 0 50 43\"}},[_c('path',{attrs:{\"d\":\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"}})]),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.fileInputId}},[_c('strong',[_vm._v(\"Scegli un file\")]),_vm._v(\"\\n          \"),_c('span',[_vm._v(\"o trascinalo qui\")]),_vm._v(\".\\n        \")]),_vm._v(\" \"),_c('input',{ref:\"fileInput\",attrs:{\"id\":_vm.fileInputId,\"type\":\"file\",\"name\":\"files[]\",\"multiple\":\"\"},on:{\"change\":_vm.onSubmit}})])])]:[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\"Your browser does not support drag & drop file upload.\")])]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediasWidget_vue__ = __webpack_require__(7);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6724f104_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediasWidget_vue__ = __webpack_require__(25);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(21)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediasWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6724f104_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediasWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaWidget_vue__ = __webpack_require__(8);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_46a39642_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaWidget_vue__ = __webpack_require__(24);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(23)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_46a39642_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file\",class:{ selected: _vm.selected, interrupted: _vm.file.error }},[_c('div',{staticClass:\"file-preview\"},[(_vm.file.thumb && !_vm.file.error)?[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}})]:(_vm.file.type=='dir')?[_vm._m(0)]:(!_vm.file.error)?[_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]:[_vm._m(1)],_vm._v(\" \"),(_vm.isAnUpload)?_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"bar\",style:({ width: _vm.uploadPercentage + '%' })})]):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"file-title\",attrs:{\"title\":_vm.filename}},[_c('h3',[_vm._v(_vm._s(_vm.filename))])]),_vm._v(\" \"),(_vm.isAnUpload)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.abortUpload(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"})])]):(_vm.canDelete)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-trash\"})])]):_vm._e(),_vm._v(\" \"),(!_vm.isAnUpload && _vm.canRename)?_c('div',{staticClass:\"top left actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-pencil\"})])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-folder\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-frown\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"medias-widget clearfix\"},[(_vm.error)?[_c('div',{staticClass:\"alert alert-warning animated fadeIn\"},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n            \"),_c('p',[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.refresh()}}},[_c('i',{staticClass:\"fa fa-fw fa-refresh\"}),_vm._v(\" Click here to retry\")])])])]:[_c('div',{staticClass:\"medias clearfix\"},[(_vm.loading)?[_vm._m(0)]:[(_vm.relPath)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.browse(_vm.pathUp)}}},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.canCreateFolder && !_vm.loading)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.createFolder()}}},[_vm._m(2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.files),function(file){return _c('media-widget',{key:file.path,staticClass:\"animated fadeIn\",class:{ invalid: file.type !== 'dir' && !_vm.mmc.checkFile(file) },attrs:{\"file\":file},nativeOn:{\"click\":function($event){return _vm.onMediaClick(file)},\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextMenu(file, $event)}}})}),_vm._v(\" \"),_vm._l((_vm.uploads),function(upload){return _c('media-widget',{key:upload.uuid,staticClass:\"animated fadeIn\",attrs:{\"file\":upload},nativeOn:{\"click\":function($event){return _vm.onMediaClick(upload)}}})})]],2),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showContextMenu)?_c('div',{staticClass:\"context-menu\",style:(_vm.contextMenuStyle)},[(_vm.contextMenuFile.type=='dir')?_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onMediaClick(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-folder-open\"}),_vm._v(\" Open\")])])]):_c('ul',[(_vm.mmc.isSelected(_vm.contextMenuFile))?_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.unselectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"}),_vm._v(\" Unselect\")])]):_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.selectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-check\"}),_vm._v(\" Select\")])])])]):_vm._e()])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file animated fadeIn\"},[_c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-spin fa-sync\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-backward\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-fw fa-folder-plus\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_NotificationWidget_vue__ = __webpack_require__(9);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6de0f4fd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_NotificationWidget_vue__ = __webpack_require__(28);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(27)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_NotificationWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6de0f4fd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_NotificationWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notification-widget\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar faIconMatchExtension = [{\n    name: 'file-alt',\n    extensions: ['txt']\n}, {\n    name: 'file-pdf',\n    extensions: ['pdf']\n}, {\n    name: 'file-word',\n    extensions: ['doc', 'docx']\n}, {\n    name: 'file-excel',\n    extensions: ['xls', 'xlsx']\n}, {\n    name: 'file-powerpoint',\n    extensions: ['ppt', 'pptx']\n}, {\n    name: 'file-code',\n    extensions: ['html', 'php', 'js', 'cs', 'java']\n}, {\n    name: 'file-video',\n    extensions: ['avi', 'mpg', 'mpeg', 'mp4', 'mov']\n}, {\n    name: 'file-audio',\n    extensions: ['mp3', 'wav', 'flac', 'ogg']\n}, {\n    name: 'file-archive',\n    extensions: ['zip', 'rar', '7z', 'tar', 'gz', 'tgz']\n}];\n\nvar FaIconClassHelper = function () {\n    function FaIconClassHelper() {\n        _classCallCheck(this, FaIconClassHelper);\n    }\n\n    _createClass(FaIconClassHelper, null, [{\n        key: 'getFaIconClass',\n        value: function getFaIconClass(file) {\n            var str = 'fa fa-fw fa-';\n            if (file.type == 'dir') {\n                return str + 'folder';\n            }\n            var matchingIcon = faIconMatchExtension.find(function (iconMatch) {\n                return iconMatch.extensions.indexOf(file.extension) >= 0;\n            });\n            if (matchingIcon) {\n                str += matchingIcon.name;\n            } else {\n                str += 'file';\n            }\n\n            return str;\n        }\n    }]);\n\n    return FaIconClassHelper;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FaIconClassHelper);\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mm\",class:{ 'mm-fixed-height': _vm.options.height },style:(_vm.options.height ? 'height:'+_vm.options.height : '')},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-body\"},[_c('notification-widget'),_vm._v(\" \"),(_vm.options.showBreadcrumb)?_c('ol',{staticClass:\"breadcrumb\"},_vm._l((_vm.breadcrumb),function(item){return _c('li',{key:item.path},[_c('a',{attrs:{\"href\":\"#\"},domProps:{\"innerHTML\":_vm._s(item.label)},on:{\"click\":function($event){$event.preventDefault();_vm.path=item.path}}})])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mm-content\"},[(_vm.api.options.uploadUrl)?_c('upload-widget',{key:\"upload\",ref:\"upload\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path},on:{\"upload-success\":_vm.onUploadSuccess,\"upload-error\":_vm.onUploadError}}):_vm._e(),_vm._v(\" \"),_c('medias-widget',{key:\"medias\",ref:\"medias\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path,\"uploads\":_vm.uploadsInPath}})],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar CancelToken = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.CancelToken;\n\nvar Api = function () {\n  _createClass(Api, null, [{\n    key: 'defaultOptions',\n    get: function get() {\n      return {\n        baseUrl: null,\n        listUrl: null,\n        downloadUrl: null,\n        deleteUrl: null,\n        renameUrl: null,\n        createFolderUrl: null,\n        uploadUrl: null,\n        beforeUpload: null,\n        axiosOptions: {}\n      };\n    }\n  }]);\n\n  function Api(opts) {\n    _classCallCheck(this, Api);\n\n    this.options = _extends({}, this.constructor.defaultOptions, opts);\n\n    if (this.options.baseUrl) {\n      this.options.axiosOptions.baseURL = this.options.baseUrl;\n    }\n\n    this.axios = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create(this.options.axiosOptions);\n  }\n\n  _createClass(Api, [{\n    key: 'list',\n    value: function list(path) {\n      var conf = this.computeConfig({ params: { path: path } });\n      return this.axios.get(this.options.listUrl, conf);\n    }\n  }, {\n    key: 'upload',\n    value: function upload(data, config, uploadFile) {\n      var _this = this;\n\n      var conf = this.computeConfig(config);\n      var source = CancelToken.source();\n      var options = {\n        config: _extends({}, conf, {\n          cancelToken: source.token\n        }),\n        url: this.options.uploadUrl\n      };\n      var configured = Promise.resolve();\n      if (this.options.beforeUpload instanceof Function) {\n        configured = Promise.all([this.options.beforeUpload(options, data, uploadFile)]).then(function (a) {\n          return a[0];\n        });\n      }\n\n      uploadFile.abort = function () {\n        source.cancel();\n      };\n\n      return configured.then(function () {\n        return _this.axios.post(options.url, data, options.config).then(function (res) {\n          if (_this.options.afterUpload instanceof Function) {\n            return _this.options.afterUpload(res, options, uploadFile);\n          } else {\n            return res;\n          }\n        });\n      });\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(file) {\n      var conf = this.computeConfig({});\n      return this.axios.delete(this.deleteUrl(file), conf);\n    }\n  }, {\n    key: 'rename',\n    value: function rename(file, name) {\n      var conf = this.computeConfig({});\n      return this.axios.patch(this.renameUrl(file), {\n        name: name\n      }, conf);\n    }\n  }, {\n    key: 'createFolderIn',\n    value: function createFolderIn(parentFolder, name) {\n      var conf = this.computeConfig({});\n      return this.axios.post(this.createFolderUrl(parentFolder, name), {}, conf);\n    }\n  }, {\n    key: 'computeConfig',\n    value: function computeConfig(conf) {\n      if (!this.options.requestConfig) {\n        return conf;\n      }\n      var overrideConf = this.options.requestConfig;\n      if (overrideConf instanceof Function) {\n        overrideConf = overrideConf();\n      }\n      return _extends({}, conf, overrideConf);\n    }\n  }, {\n    key: 'downloadUrl',\n    value: function downloadUrl(file) {\n      return this.options.downloadUrl && this.options.downloadUrl + '?path=' + file.path;\n    }\n  }, {\n    key: 'deleteUrl',\n    value: function deleteUrl(file) {\n      return this.options.deleteUrl && this.options.deleteUrl + '/' + file.path;\n    }\n  }, {\n    key: 'renameUrl',\n    value: function renameUrl(file) {\n      return this.options.renameUrl && this.options.deleteUrl + '/' + file.path;\n    }\n  }, {\n    key: 'createFolderUrl',\n    value: function createFolderUrl(parentFolder, name) {\n      return this.options.createFolderUrl && this.options.createFolderUrl + (parentFolder ? '/' + parentFolder : \"\") + '/' + name;\n    }\n  }]);\n\n  return Api;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Api);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Store = function () {\n  function Store() {\n    _classCallCheck(this, Store);\n  }\n\n  _createClass(Store, null, [{\n    key: \"create\",\n    value: function create(component, options) {\n      /*\n       * Init selected\n       */\n\n      var selected = options.selected;\n      if (selected) {\n        if (Array.isArray(selected)) {\n          selected = selected.map(function (e) {\n            if (typeof e === \"string\") {\n              return { path: e };\n            } else {\n              return e;\n            }\n          });\n        } else {\n          if (typeof selected === \"string\") {\n            selected = { path: selected };\n          }\n        }\n      }\n\n      return {\n        state: {\n          mm: component,\n          options: options,\n          path: options.basePath + options.path,\n          selected: selected\n        },\n        mutations: {\n          setPath: function setPath(state, path) {\n            state.path = options.basePath + path;\n          },\n          resetSelected: function resetSelected(state) {\n            state.selected = null;\n          },\n          addSelected: function addSelected(state, file) {\n            if (state.options.multipleSelection) {\n              if (!Array.isArray(state.selected)) {\n                state.selected = [];\n              } else {\n                var index = state.selected.findIndex(function (element) {\n                  return file.path && element.path === file.path || file.uuid && element.uuid === file.uuid;\n                });\n                if (index > -1) return;\n              }\n              state.selected.push(file);\n            } else {\n              state.selected = file;\n            }\n            state.selected = JSON.parse(JSON.stringify(state.selected));\n            state.mm.onSelect({ selected: state.selected });\n          },\n          removeSelected: function removeSelected(state, file) {\n            if (state.options.multipleSelection) {\n              if (!Array.isArray(state.selected)) return;\n              var index = state.selected.findIndex(function (element) {\n                return file.path && element.path === file.path || file.uuid && element.uuid === file.uuid;\n              });\n              if (index > -1) {\n                state.selected.splice(index, 1);\n              }\n            } else {\n              if (state.seleted && (file.uuid && state.selected.uuid === file.uuid || file.path && state.selected.path === file.path)) {\n                state.selected = null;\n              }\n            }\n            state.selected = JSON.parse(JSON.stringify(state.selected));\n            state.mm.onSelect({ selected: state.selected });\n          },\n          renameSelected: function renameSelected(state, _ref) {\n            var file = _ref.file,\n                newFile = _ref.newFile;\n\n            function patchInnerFile(item) {\n              item.path = newFile.path + item.path.substr(file.path.length);\n              var parentPath = item.path.substr(0, item.path.lastIndexOf(\"/\"));\n              var slashPos = parentPath.lastIndexOf(\"/\");\n              item.dirname = slashPos !== -1 ? parentPath.substr(slashPos + 1) : parentPath;\n\n              if (item.fileURL) {\n                item.fileURL = item.fileURL.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n              }\n\n              if (item.thumb) {\n                item.thumb = item.thumb.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n              }\n            }\n\n            var renamed = false;\n            if (state.options.multipleSelection) {\n              if (!Array.isArray(state.selected)) return;\n              var selectedItem = state.selected.find(function (i) {\n                return i.path === file.path;\n              });\n              if (selectedItem) {\n                Object.assign(selectedItem, newFile);\n                renamed = true;\n              }\n\n              if (file.type === \"dir\") {\n                state.selected.filter(function (i) {\n                  return i.path.indexOf(file.path + \"/\") === 0;\n                }).forEach(function (i) {\n                  patchInnerFile(i);\n                  renamed = true;\n                });\n              }\n            } else {\n              if (state.selected && state.selected.path === file.path) {\n                state.selected = newFile;\n                renamed = true;\n              }\n\n              if (file.type === \"dir\") {\n                if (state.selected && state.selected.path.indexOf(file.path + \"/\") === 0) {\n                  patchInnerFile(state.selected);\n                  renamed = true;\n                }\n              }\n            }\n            if (renamed) {\n              state.mm.onSelect({ selected: state.selected });\n            }\n          },\n          fileUploaded: function fileUploaded(state, file) {\n            function cleanFile(f) {\n              delete f.uploading;\n              delete f.loaded;\n              delete f.total;\n              delete f.success;\n              delete f.error;\n              delete f.uploadPath;\n              delete f.uuid;\n              delete f.abort;\n            }\n\n            if (state.options.multipleSelection) {\n              if (!Array.isArray(state.selected)) return;\n              var selectedItem = state.selected.find(function (i) {\n                return i.uuid === file.uuid;\n              });\n              if (selectedItem) {\n                Object.assign(selectedItem, file);\n                Object.assign(file, selectedItem);\n                cleanFile(selectedItem);\n                cleanFile(file);\n              }\n            } else {\n              if (state.selected && state.selected.uuid === file.uuid) {\n                state.selected = file;\n                cleanFile(file);\n              }\n            }\n          }\n        },\n        getters: {\n          path: function path(state) {\n            return state.path;\n          },\n          selected: function selected(state, getters) {\n            return function () {\n              return state.selected;\n            };\n          },\n          isSelected: function isSelected(state, getters) {\n            return function (file) {\n              if (state.options.multipleSelection) {\n                if (!Array.isArray(state.selected)) return false;\n                var index = state.selected.findIndex(function (element) {\n                  return file.path && element.path === file.path || file.uuid && element.uuid === file.uuid;\n                });\n                return index > -1;\n              } else {\n                return state.selected && (file.path && state.selected.path === file.path || file.uuid && state.selected.uuid === file.uuid) || false;\n              }\n            };\n          },\n          nbSelected: function nbSelected(state, getters) {\n            if (Array.isArray(state.selected)) return state.selected.length;\n            if (state.selected) return 1;\n            return 0;\n          }\n        }\n      };\n    }\n  }]);\n\n  return Store;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Store);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-manager\",attrs:{\"id\":_vm.id}},[_c('div',{ref:\"mediaManager\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mm.min.js","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vuex\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 2\n// module chunks = 0","<template>\n  <div class=\"media-manager\" v-bind:id=\"id\">\n    <div ref=\"mediaManager\"></div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport MediaManager from \"./MediaManager.vue\";\nimport Api from \"../api.js\";\nimport Store from \"../Store\";\nimport globalStore from \"../GlobalStore\";\n\nVue.use(Vuex);\n\nconst defaultOptions = {\n  basePath: \"\",\n  path: \"\",\n  api: {\n    baseUrl: null,\n    listUrl: null,\n    downloadUrl: null,\n    uploadUrl: null,\n    options: {}\n  },\n  input: \"\",\n  multipleSelection: false,\n  onCreated: null,\n  onMounted: null,\n  onSelect: null,\n  showBreadcrumb: true,\n  height: null,\n  vue: Vue,\n  asVueComponent: false,\n  accept: \"\"\n};\n\nexport default {\n  components: { MediaManager },\n  props: [\"id\", \"opts\"],\n  data() {\n    return {\n      store$: null\n    };\n  },\n  watch: {\n    opts: {\n      deep: true,\n      handler() {\n        this.options = { ...defaultOptions, ...this.opts };\n        this.store$.commit(\"resetSelected\");\n        if (this.options.selected) {\n          if (Array.isArray(this.options.selected)) {\n            this.options.selected.forEach(f => {\n              this.select(f);\n            });\n          } else {\n            this.select(this.options.selected);\n          }\n        }\n      }\n    }\n  },\n  created() {\n    this.options = { ...defaultOptions, ...this.opts };\n\n    /*\n     * Init api\n     */\n    this.api = new Api(this.options.api);\n\n    if (this.options.onCreated) this.options.onCreated({ vc: this });\n\n    this._input = null;\n  },\n  computed: {\n    overrideOptions() {\n      return { ...defaultOptions, ...this.options };\n    },\n    input() {\n      /*\n       * Input options ?\n       */\n      if (!this._input && this.options.input) {\n        this._input = document.querySelector(this.options.input);\n      }\n      return this._input;\n    }\n  },\n  methods: {\n    onSelect(e) {\n      if (this.input) {\n        if (e.selected) {\n          if (this.options.multipleSelection) {\n            let selected = e.selected.map(element => {\n              return element.path;\n            });\n            this.input.value = selected.join(\"\\n\");\n          } else {\n            this.input.value = e.selected.path;\n          }\n        } else {\n          this.input.value = \"\";\n        }\n      }\n\n      if (this.options.onSelect) this.options.onSelect(e);\n    },\n    select(file) {\n      this.store$.commit(\"addSelected\", file);\n    },\n    deselect(file) {\n      this.store$.commit(\"removeSelected\", file);\n    },\n    setPath(path) {\n      this.store$.commit(\"setPath\", path);\n      this.$emit('setpath', path);\n    },\n    globalStore() {\n      return globalStore;\n    }\n  },\n  mounted() {\n    if (this.options.onMounted)\n      this.options.onMounted({ el: this.$el, vc: this });\n\n    const store = new Vuex.Store(Store.create(this, this.options));\n    this.store$ = store;\n\n    var mediaManager = this.$refs.mediaManager;\n\n    new Vue({\n      el: mediaManager,\n      store,\n      render: h =>\n        h(MediaManager, {\n          props: {\n            id: this.id,\n            api: this.api,\n            parent: this\n          }\n        })\n    });\n  }\n};\n</script>\n\n<style src=\"../assets/css/style.scss\" lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/App.vue","<template>\n  <div\n    class=\"mm\"\n    v-bind:class=\"{ 'mm-fixed-height': options.height }\"\n    v-bind:style=\"options.height ? 'height:'+options.height : ''\"\n  >\n    <div class=\"panel panel-default\">\n      <div class=\"panel-body\">\n        <notification-widget></notification-widget>\n\n        <ol v-if=\"options.showBreadcrumb\" class=\"breadcrumb\">\n          <li v-for=\"item in breadcrumb\" :key=\"item.path\">\n            <a v-on:click.prevent=\"path=item.path\" v-html=\"item.label\" href=\"#\"></a>\n          </li>\n        </ol>\n\n        <div class=\"mm-content\">\n          <upload-widget\n            v-if=\"api.options.uploadUrl\"\n            v-bind:path=\"path\"\n            v-on:upload-success=\"onUploadSuccess\"\n            v-on:upload-error=\"onUploadError\"\n            ref=\"upload\"\n            key=\"upload\"\n            class=\"animated fadeIn\"\n          ></upload-widget>\n\n          <medias-widget\n            :path=\"path\"\n            :uploads=\"uploadsInPath\"\n            ref=\"medias\"\n            key=\"medias\"\n            class=\"animated fadeIn\"\n          ></medias-widget>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\n\nimport UploadWidget from \"./UploadWidget.vue\";\nimport MediasWidget from \"./MediasWidget.vue\";\nimport NotificationWidget from \"./NotificationWidget.vue\";\nimport FaIconClassHelper from \"../FaIconClassHelper\";\n\nimport globalStore from \"../GlobalStore\";\n\nexport default {\n  props: [\"api\", \"id\", \"parent\"],\n  components: {\n    MediasWidget,\n    UploadWidget,\n    NotificationWidget\n  },\n  data() {\n    return {\n      path:\n        this.$store.state.options.initialPath ||\n        this.$store.state.options.basePath,\n      file: {}\n    };\n  },\n  computed: {\n    ...mapState({\n      options: state => state.options,\n      basePath: state => state.options.basePath\n    }),\n    relPath() {\n      return this.path.replace(this.basePath, \"\");\n    },\n    breadcrumb() {\n      let parts = this.relPath.split(\"/\"),\n        breadcrumb = [],\n        path = \"\";\n\n      breadcrumb.push({\n        label: '<i class=\"fa fa-fw fa-home\"></i>',\n        path: this.basePath\n      });\n      for (let i = 0; i < parts.length; i++) {\n        if (parts[i]) {\n          path += parts[i] + \"/\";\n          breadcrumb.push({\n            label: parts[i],\n            path: this.basePath + path.replace(/\\/$/, \"\")\n          });\n        }\n      }\n\n      return breadcrumb;\n    },\n    uploadsInPath() {\n      return globalStore.getters.uploading(this.path);\n    }\n  },\n  created() {\n  },\n  mounted() {\n    this.parent.$on('setpath', path => {\n      this.path = path;\n      this.$refs.medias && this.$refs.medias.refresh();\n    });\n  },\n  methods: {\n    selectFile(file) {\n      this.$store.commit(\"addSelected\", file);\n    },\n    unselectFile(file) {\n      this.$store.commit(\"removeSelected\", file);\n    },\n    fileUploaded(file) {\n      const selected = this.isSelected(file);\n      this.$store.commit(\"fileUploaded\", file);\n      if(selected && this.options.onSelect instanceof Function) {\n        this.options.onSelect({ selected: this.$store.getters.selected() });\n      }\n    },\n    isSelected(file) {\n      return this.$store.getters.isSelected(file);\n    },\n    onUploadSuccess() {\n      this.$refs.medias.refresh();\n    },\n    onUploadError(errors) {\n      //this.$refs.medias.refresh();\n    },\n    deleteFile(file) {\n      if (this.options.api.deleteUrl) {\n        let confirmation;\n        if (this.options.confirmDeletion instanceof Function) {\n          confirmation = this.options.confirmDeletion(file);\n        } else {\n          if (\n            window.confirm(\"Are you sure to remove file \" + file.basename + \"?\")\n          ) {\n            confirmation = Promise.resolve();\n          } else {\n            confirmation = Promise.reject();\n          }\n        }\n        confirmation.then(\n          () => {\n            this.api.delete(file).then(\n              () => {\n                this.$store.commit(\"removeSelected\", file);\n                this.$refs.medias.$emit(\"fileDeleted\", file);\n              },\n              e => {\n                if (this.options.onError instanceof Function) {\n                  this.options.onError(e, \"delete\", file);\n                }\n              }\n            );\n          },\n          () => {}\n        );\n      }\n    },\n    renameFile(file) {\n      let name;\n      if (this.options.api.renameUrl) {\n        if (this.options.askNewName instanceof Function) {\n          name = this.options.askNewName(file);\n        } else if (\n          !(name = (\n            window.prompt(\n              \"Type the new name for \" + file.basename,\n              file.basename\n            ) || \"\"\n          ).trim())\n        ) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(([name]) => {\n        if (name !== file.basename) {\n          return this.api.rename(file, name).then(\n            response => {\n              let newFile = response.data;\n              this.$store.commit(\"renameSelected\", { file, newFile });\n              this.$refs.medias.$emit(\"fileRenamed\", file, newFile);\n            },\n            e => {\n              if (this.options.onError instanceof Function) {\n                this.options.onError(e, \"rename\", file, name);\n              }\n              return Promise.reject(e);\n            }\n          );\n        } else {\n          return Promise.reject();\n        }\n      });\n    },\n    createFolderIn(parentFolder) {\n      let name;\n      if (this.options.api.createFolderUrl) {\n        if (this.options.askFolderName instanceof Function) {\n          name = this.options.askFolderName(parentFolder);\n        } else if (!(name = window.prompt(\"Type the name of the new folder\"))) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(([name]) => {\n        return this.api.createFolderIn(parentFolder, name);\n      });\n    },\n    checkFile(file) {\n      if (!this.options.accept) {\n        return true;\n      } else if (this.options.accept instanceof Function) {\n        return this.options.accept(file);\n      } else {\n        var types = [];\n        if (typeof this.options.accept === \"string\") {\n          types = [this.options.accept];\n        } else if (Array.isArray(this.options.accept)) {\n          types = this.options.accept;\n        }\n        for (var t in types) {\n          var type = types[t];\n          var re = new RegExp(\n            \"^\" + type.replace(\"*\", \".*\").replace(\"/\", \"\\\\/\") + \"$\",\n            \"i\"\n          );\n          if (re.test(file.mime)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    },\n    removeUpload(file) {\n      return globalStore.dispatch(\"removeUpload\", file);\n    },\n    startUpload(file) {\n      return globalStore.dispatch(\"startUpload\", file);\n    },\n    updateUpload(file, info) {\n      return globalStore.dispatch(\"updateUpload\", { file, info});\n    },\n    /**\n     * FA icon class helper\n     */\n    faIconClass(file) {\n      return FaIconClassHelper.getFaIconClass(file);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.mm {\n  position: relative;\n  .animated {\n    animation-duration: 0.4s;\n  }\n\n  .breadcrumb {\n    padding-left: 0;\n    margin-bottom: 0.5em;\n    li {\n      display: inline-block;\n\n      &:not(:last-child)::after {\n        display: inline-block;\n        padding: 0 0.5em;\n        content: \">\";\n      }\n    }\n  }\n}\n\n.mm-fixed-height {\n  > .panel {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: 0;\n\n    > .panel-body {\n      position: absolute;\n      top: 0; //47px;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      overflow: auto;\n    }\n  }\n\n  .mm-content {\n    // position: relative;\n    min-height: 250px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediaManager.vue","<template>\n  <div class=\"upload-widget\">\n    <template v-if=\"advancedUpload\">\n      <div class=\"upload-drop-zone\" v-bind:class=\"{ 'drag-over': dragOver }\">\n        <form\n          method=\"post\"\n          enctype=\"multipart/form-data\"\n          v-on:dragover.prevent=\"dragOver=true\"\n          v-on:dragenter.prevent=\"dragOver=true\"\n          v-on:dragleave.prevent=\"dragOver=false\"\n          v-on:dragend.prevent=\"dragOver=false\"\n          v-on:drop.prevent=\"onDrop\"\n          v-on:submit.prevent=\"onSubmit\"\n          class=\"animated fadeIn\"\n          ref=\"form\"\n        >\n          <svg\n            class=\"upload-widget-icon\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"50\"\n            height=\"43\"\n            viewBox=\"0 0 50 43\"\n          >\n            <path\n              d=\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"\n            />\n          </svg>\n          <label v-bind:for=\"fileInputId\">\n            <strong>Scegli un file</strong>&nbsp;\n            <span>o trascinalo qui</span>.\n          </label>\n          <input\n            v-on:change=\"onSubmit\"\n            v-bind:id=\"fileInputId\"\n            ref=\"fileInput\"\n            type=\"file\"\n            name=\"files[]\"\n            multiple\n          />\n        </form>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"alert alert-warning\">Your browser does not support drag & drop file upload.</div>\n    </template>\n  </div>\n</template>\n\n<script>\n/* global toastr */\nimport { mapState } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      advancedUpload: false,\n      dragOver: false\n    };\n  },\n  props: [\"path\"],\n  computed: {\n    mmc() {\n      return this.$parent;\n    },\n    api() {\n      return this.mmc.api;\n    },\n    fileInputId() {\n      return this.mmc.id + \"-file-input\";\n    }\n  },\n  mounted() {\n    this.advancedUpload = this.isAdvancedUpload();\n  },\n  methods: {\n    /**\n     * check drag&drop support\n     */\n    isAdvancedUpload() {\n      let div = document.createElement(\"div\");\n      return (\n        (\"draggable\" in div || (\"ondragstart\" in div && \"ondrop\" in div)) &&\n        \"FormData\" in window &&\n        \"FileReader\" in window\n      );\n    },\n    /**\n     * drop handler\n     */\n    onDrop(e) {\n      this.dragOver = false;\n      this.files = [];\n      //console.log(e.dataTransfer.files);\n      if (e.dataTransfer.files) {\n        if (e.dataTransfer.files.length > 0) {\n          this.files = e.dataTransfer.files;\n          this.submit();\n        } else {\n          toastr.error(\"Empty file list.\", \"Error\");\n        }\n      } else {\n        toastr.error(\"Drop error.\", \"Error\");\n      }\n    },\n    /**\n     * submit handler\n     */\n    onSubmit() {\n      if (this.$refs.fileInput.files) {\n        this.files = this.$refs.fileInput.files;\n        this.submit();\n        this.$refs.form.reset();\n      }\n    },\n    /**\n     * submit files\n     */\n    submit() {\n      let requests = [];\n      for (let i = 0; i < this.files.length; i++) {\n        let file = this.files[i];\n        file.index = i;\n        let upload = {\n          uploading: true,\n          name: file.name,\n          type: file.type,\n          loaded: 0,\n          total: Math.max(100, file.size),\n          success: false,\n          error: false,\n          uploadPath: this.path\n        };\n        if (file.type) {\n          requests.push(this.buildRequest(file, upload));\n        } else {\n          this.mmc.updateUpload(upload, {\n            loaded: upload.total,\n            error: \"Invalid file.\"\n          });\n        }\n      }\n\n      if (requests.length) {\n        requests.forEach(r => {\n          r.then(\n            res => {\n              this.$emit(\"upload-success\", res);\n            },\n            err => {\n              this.$emit(\"upload-error\", err);\n            }\n          );\n        });\n      }\n    },\n    /**\n     * build axios request\n     */\n    buildRequest(file, upload) {\n      if (file.type.indexOf(\"image/\") != -1) {\n        let reader = new FileReader();\n        reader.onload = e => {\n          this.mmc.updateUpload(upload, {\n            thumb: e.target.result\n          });\n        };\n        reader.readAsDataURL(file);\n      }\n\n      let formData = new FormData();\n      formData.append(\"path\", this.path);\n      formData.append(\"file\", file);\n      upload.promise = this.api\n        .upload(\n          formData,\n          {\n            onUploadProgress: progressEvent => {\n              this.mmc.updateUpload(upload, {\n                loaded: progressEvent.loaded,\n                total: progressEvent.total\n              });\n            }\n          },\n          upload\n        )\n        .then(\n          response => {\n            // Remove it\n            this.mmc.fileUploaded(upload);\n            this.mmc.updateUpload(upload, {\n              success: true\n            });\n            this.mmc.removeUpload(upload);\n            return upload;\n          },\n          error => {\n            let message = \"\";\n            if (\n              error.response &&\n              error.response.data &&\n              Array.isArray(error.response.data)\n            ) {\n              let errors = error.response.data;\n              for (let i = 0; i < errors.length; i++) {\n                message += errors[i].message || errors[i];\n              }\n            } else {\n              message = error.message || error;\n            }\n            this.mmc.updateUpload(upload, {\n              error: message\n            });\n\n            return Promise.reject({ file, error: message });\n          }\n        );\n      this.mmc.startUpload(upload);\n      return upload.promise;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.upload-widget {\n}\n.upload-drop-zone {\n  background-color: #f8f8f8;\n  outline: 1px dashed #ccc;\n  padding: 20px;\n  margin-bottom: 15px;\n  outline-offset: -10px;\n  transition: all 0.4s;\n\n  &.drag-over {\n    background-color: #eee;\n    outline-color: #000;\n    .upload-widget-icon {\n      opacity: 1;\n    }\n  }\n\n  form {\n    text-align: center;\n  }\n\n  label {\n    align-items: flex-end;\n    cursor: pointer;\n    display: flex;\n    font-size: 1.2em;\n    font-weight: bold;\n    height: 100%;\n    justify-content: center;\n    left: 0;\n    padding-bottom: 14px;\n    position: absolute;\n    top: 0;\n    width: 100%;\n\n    span {\n      font-weight: normal;\n    }\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n}\n\n.upload-widget-icon {\n  margin: 0 auto;\n  opacity: 0.2;\n  transition: opacity 0.4s;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UploadWidget.vue","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 6\n// module chunks = 0","<template>\n\n    <div class=\"medias-widget clearfix\">\n\n        <template v-if=\"error\">\n\n            <div class=\"alert alert-warning animated fadeIn\">\n                {{ error }}\n                <p><button v-on:click.prevent=\"refresh()\" class=\"btn btn-primary\"><i class=\"fa fa-fw fa-refresh\"></i> Click here to retry</button></p>\n            </div>\n\n        </template>\n        <template v-else>\n\n            <!--<div v-if=\"!loading && files.length==0\" class=\"alert alert-info animated fadeIn\">-->\n            <!--    This folder is empty.-->\n            <!--</div>-->\n\n            <div class=\"medias clearfix\">\n                <template v-if=\"loading\">\n\n                    <div class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fa fa-fw fa-spin fa-sync\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                </template>\n                <template v-else>\n\n                    <div v-if=\"relPath\" v-on:click=\"browse(pathUp)\" class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fa fa-fw fa-backward\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div v-if=\"canCreateFolder && !loading\" v-on:click=\"createFolder()\" class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fas fa-fw fa-folder-plus\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                    <media-widget\n                        v-for=\"file in files\"\n                        v-on:click.native=\"onMediaClick(file)\"\n                        v-on:contextmenu.native.prevent=\"onContextMenu(file, $event)\"\n                        v-bind:file=\"file\"\n                        v-bind:key=\"file.path\"\n                        class=\"animated fadeIn\"\n                        v-bind:class=\"{ invalid: file.type !== 'dir' && !mmc.checkFile(file) }\"\n                    ></media-widget>\n\n                    <media-widget\n                        v-for=\"upload in uploads\"\n                        v-on:click.native=\"onMediaClick(upload)\"\n                        v-bind:file=\"upload\"\n                        v-bind:key=\"upload.uuid\"\n                        class=\"animated fadeIn\"\n                    ></media-widget>\n\n                </template>\n            </div>\n\n            <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"animated fadeOut\">\n                <div v-if=\"showContextMenu\" class=\"context-menu\" v-bind:style=\"contextMenuStyle\">\n                    <ul v-if=\"contextMenuFile.type=='dir'\">\n                        <li><a v-on:click.prevent=\"onMediaClick(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> Open</a></li>\n                        <!-- <li><a v-on:click.prevent=\"mmc.toggleDetailsOn(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-info-circle\"></i> Details</a></li> -->\n                    </ul>\n                    <ul v-else>\n                        <li v-if=\"mmc.isSelected(contextMenuFile)\"><a v-on:click.prevent=\"mmc.unselectFile(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-times\"></i> Unselect</a></li>\n                        <li v-else><a v-on:click.prevent=\"mmc.selectFile(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-check\"></i> Select</a></li>\n                        <!-- <li><a v-on:click.prevent=\"mmc.toggleDetailsOn(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-info-circle\"></i> Details</a></li> -->\n                        <!-- <li v-if=\"api.downloadUrl(contextMenuFile)\" ><a v-bind:href=\"api.downloadUrl(contextMenuFile)\"><i class=\"fa fa-fw fa-download\"></i> Download</a></li> -->\n                    </ul>\n                </div>\n            </transition>\n\n        </template>\n\n    </div>\n\n</template>\n\n<script>\n/* global $ */\nimport { mapState } from 'vuex';\nimport MediaWidget from './MediaWidget.vue';\n\nexport default {\n    components: {\n        MediaWidget\n    },\n    data() {\n        return {\n            files: [],\n            loading: false,\n            error: false,\n            contextMenuFile: {},\n            contextMenuX: 0,\n            contextMenuY: 0,\n            showContextMenu: false\n        };\n    },\n    props: [\n        'path',\n        'uploads'\n    ],\n    computed: {\n        ...mapState({\n            basePath: state => state.options.basePath\n        }),\n        mmc() {\n            return this.$parent;\n        },\n        api () {\n            return this.mmc.api;\n        },\n        relPath() {\n            return this.path.replace(this.basePath, '');\n        },\n        canCreateFolder() {\n            return this.mmc.options.api.createFolderUrl;\n        },\n        pathUp() {\n            let path = '', index = this.relPath.lastIndexOf('/');\n            if (index>-1) {\n                path = this.relPath.slice(0, index);\n            }\n            return this.basePath + path;\n        },\n        contextMenuStyle() {\n            return 'left: '+this.contextMenuX+'px; top:'+this.contextMenuY+'px;';\n        }\n    },\n    watch: {\n        path: function() {\n            this.refresh();\n        }\n    },\n    mounted() {\n        this.refresh();\n\n        this.$on(\"fileDeleted\", file => {\n            var pos = this.files.indexOf(file);\n            if(pos !== -1) {\n                this.files.splice(pos, 1);\n            }\n        });\n\n        this.$on(\"fileRenamed\", (file, newFile) => {\n            Object.assign(file, newFile);\n        });\n    },\n    destroyed() {\n        this.$off(\"fileDeleted\");\n        this.$off(\"fileRenamed\");\n    },\n    methods: {\n        createFolder() {\n            this.mmc.createFolderIn(this.path).then(() => {\n                this.refresh();\n            }, () => {});\n        },\n        refresh() {\n            this.loading = true;\n            this.error = false;\n\n            this.api.list(this.path)\n                .then(response => {\n                    if (Array.isArray(response.data)) {\n                        response.data.sort((a, b) => {\n                            let as = a.type +'/'+ a.basename,\n                                bs = b.type +'/'+ b.basename;\n                            return as.localeCompare(bs)\n                        });\n                        this.files = response.data;\n                    }\n                    this.loading = false;\n                }, error => {\n                    // TODO\n                    this.error = error.toString();\n                    this.files = [];\n                    this.loading = false;\n                });\n        },\n        browse(path) {\n            this.mmc.path = path;\n        },\n\n        onMediaClick(file) {\n            if (file.type=='dir') {\n                this.browse(file.path);\n            } else {\n                let mmc = this.mmc;\n                if (mmc.isSelected(file)) {\n                    mmc.unselectFile(file);\n                } else {\n                    if(mmc.checkFile(file)) {\n                        mmc.selectFile(file);\n                    }\n                }\n            }\n        },\n\n        onDocumentClick(e) {\n            this.toggleContextMenuOff();\n        },\n        onContextMenu(file, e) {\n            let clientRect = this.mmc.$el.getBoundingClientRect();\n            this.contextMenuFile = file;\n            this.contextMenuX = e.clientX - clientRect.left;\n            this.contextMenuY = e.clientY - clientRect.top;\n            this.toggleContextMenuOn();\n        },\n        toggleContextMenuOn() {\n            this.showContextMenu = true;\n            document.addEventListener('click', this.onDocumentClick);\n        },\n        toggleContextMenuOff() {\n            this.contextMenuFile = {};\n            this.contextMenuX = 0;\n            this.contextMenuY = 0;\n            this.showContextMenu = false;\n            document.removeEventListener('click', this.onDocumentClick);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n$filesMargin: 5px;\n\n.medias {\n    margin: (-$filesMargin) (-$filesMargin) 15px (-$filesMargin);\n    .file {\n        margin: $filesMargin;\n    }\n}\n\n.context-menu {\n    position: absolute;\n    background-color: #fff;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.5);\n    z-index: 100;\n\n    ul {\n        padding-left: 0;\n        margin-bottom: 0;\n        list-style: none;\n    }\n\n    li {\n        display: block;\n        a {\n            display: block;\n            padding: 6px 15px;\n            font-weight: normal;\n            color: #333;\n            text-decoration: none;\n            white-space: nowrap;\n            &:hover {\n                background-color: #eee;\n            }\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediasWidget.vue","<template>\n  <div class=\"file\" v-bind:class=\"{ selected: selected, interrupted: file.error }\">\n    <div class=\"file-preview\">\n      <template v-if=\"file.thumb && !file.error\">\n        <img v-bind:src=\"file.thumb\" class=\"thumb\" />\n      </template>\n\n      <template v-else-if=\"file.type=='dir'\">\n        <div class=\"icon\">\n          <i class=\"fa fa-fw fa-folder\"></i>\n        </div>\n      </template>\n\n      <template v-else-if=\"!file.error\">\n        <div class=\"icon\">\n          <i v-bind:class=\"mmc.faIconClass(file)\"></i>\n        </div>\n      </template>\n\n      <template v-else>\n        <div class=\"icon\">\n          <i class=\"fas fa-frown\"></i>\n        </div>\n      </template>\n\n      <div class=\"progress\" v-if=\"isAnUpload\">\n        <div class=\"bar\" :style=\"{ width: uploadPercentage + '%' }\"></div>\n      </div>\n    </div>\n\n    <div class=\"file-title\" :title=\"filename\">\n      <h3>{{ filename }}</h3>\n    </div>\n\n    <div class=\"top right actions\" v-if=\"isAnUpload\">\n      <button @click.stop=\"abortUpload(file)\" class=\"btn btn-default\">\n        <i class=\"fa fa-fw fa-times\"></i>\n      </button>\n    </div>\n\n    <div class=\"top right actions\" v-else-if=\"canDelete\">\n      <button @click.stop=\"deleteFile(file)\" class=\"btn btn-default\">\n        <i class=\"fa fa-fw fa-trash\"></i>\n      </button>\n    </div>\n\n    <div class=\"top left actions\" v-if=\"!isAnUpload && canRename\">\n      <button class=\"btn btn-default\" @click.stop=\"renameFile(file)\">\n        <i class=\"fa fa-fw fa-pencil\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  props: [\"file\"],\n  computed: {\n    mmc() {\n      return this.$parent.$parent;\n    },\n    selected() {\n      return this.mmc.isSelected(this.file);\n    },\n    canDelete() {\n      return this.mmc.options.api.deleteUrl;\n    },\n    canRename() {\n      return this.mmc.options.api.renameUrl;\n    },\n    uploadPercentage() {\n      return Math.round((this.file.loaded / this.file.total) * 100);\n    },\n    isAnUpload() {\n      return typeof this.file.abort !== \"undefined\";\n    },\n    filename() {\n      // filename for uploaded file, name for uploading file\n      return this.file.basename || this.file.name;\n    }\n  },\n  methods: {\n    deleteFile(file) {\n      this.mmc.deleteFile(file);\n    },\n    renameFile(file) {\n      this.mmc.renameFile(file);\n    },\n    abortUpload(file) {\n      file.abort();\n      this.mmc.removeUpload(file);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n$fileWidth: 70px;\n$fileBorderWidth: 2px;\n$filePreviewHeight: 60px;\n$filePreviewPadding: 4px;\n$filePreviewDiff: 2 * ($fileBorderWidth + $filePreviewPadding);\n$filePreviewIconHeight: $filePreviewHeight - $filePreviewDiff;\n$fileTitleHeight: 20px;\n$fileHeight: $filePreviewHeight + $fileTitleHeight;\n$fileBorderColor: #eee;\n$fileBorderColorH: #333;\n$fileProgressColor: #0f6;\n\n$actionsRadius: 5px;\n\n.file {\n  position: relative;\n  float: left;\n  width: $fileWidth;\n  height: $fileHeight;\n  cursor: pointer;\n  border: $fileBorderWidth solid $fileBorderColor;\n  transition: border-color 0.4s;\n  overflow: hidden;\n\n  &.invalid {\n    cursor: default;\n\n    .file-preview,\n    .file-title {\n      opacity: 0.2;\n    }\n  }\n\n  .actions {\n    position: absolute;\n    background-color: white;\n    background-color: rgba(255, 255, 255, 0.5);\n    padding: 5px;\n\n    button {\n      outline: none;\n      cursor: pointer;\n    }\n  }\n\n  .top {\n    top: 0;\n\n    &.right {\n      border-bottom-left-radius: $actionsRadius;\n    }\n\n    &.left {\n      border-bottom-right-radius: $actionsRadius;\n    }\n  }\n\n  .bottom {\n    bottom: 0;\n\n    &.right {\n      border-top-left-radius: $actionsRadius;\n    }\n\n    &.left {\n      border-top-right-radius: $actionsRadius;\n    }\n  }\n\n  .left {\n    left: 0;\n  }\n\n  .right {\n    right: 0;\n  }\n}\n\n.file-preview {\n  padding: 4px;\n  position: relative;\n  .thumb {\n    width: 100%;\n    margin-top: -(($fileWidth - $filePreviewHeight)/2);\n  }\n  .icon {\n    text-align: center;\n    line-height: $filePreviewIconHeight;\n    font-size: ($filePreviewIconHeight) / 1.3;\n    .fa,\n    .fas,\n    .fad {\n      vertical-align: middle;\n    }\n  }\n  .progress {\n    align-items: center;\n    bottom: 0;\n    height: 3px;\n    left: 0;\n    justify-content: center;\n    position: absolute;\n    right: 0;\n    .bar {\n      background-color: $fileProgressColor;\n      height: 100%;\n      margin-right: auto;\n    }\n  }\n}\n\n.file-no-title {\n  .icon {\n    line-height: $fileHeight - $filePreviewDiff;\n  }\n}\n\n/*\n.file-actions {\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    text-align: center;\n    margin-top: 10px;\n}\n\n.file:hover, .file:focus, .file.selected {\n    .file-actions {\n        display: block;\n    }\n}\n*/\n\n.file-title {\n  position: absolute;\n  height: 20px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  background-color: $fileBorderColor;\n  transition: background-color 0.4s;\n\n  h3 {\n    color: #000;\n    margin: 0 4px;\n    line-height: $fileTitleHeight;\n    font-size: $fileTitleHeight/2;\n    transition: color 0.4s;\n  }\n}\n\n.file.selected {\n  border-color: $fileBorderColorH;\n  .file-title {\n    background-color: $fileBorderColorH;\n    h3 {\n      color: #fff;\n    }\n  }\n}\n\n.file.interrupted {\n  .file-preview {\n    background-color: rgba(255,0,0, 0.3);\n  }\n  .file-title {\n    background-color: rgb(100, 0, 0);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediaWidget.vue","<template>\n\n    <div class=\"notification-widget\">\n    </div>\n\n</template>\n\n<script>\nexport default {\n    components: {},\n    data() {\n        return {\n        };\n    },\n    props: [],\n    computed: {\n    },\n    watch: {\n    },\n    created() {\n    },\n    mounted() {\n    },\n    methods: {\n    }\n};\n</script>        \n\n<style lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NotificationWidget.vue","import Vue from \"vue\";\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nfunction createUuid() {\n  var dt = new Date().getTime();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = (dt + Math.random()*16)%16 | 0;\n      dt = Math.floor(dt/16);\n      return (c=='x' ? r :(r&0x3|0x8)).toString(16);\n  });\n  return uuid;\n}\n\nexport default new Vuex.Store({\n  state: {\n    uploading: []\n  },\n  mutations: {\n    startUpload(state, file) {\n      file.uuid = createUuid();\n      state.uploading.push(file);\n    },\n    updateUpload(state, { file, info }) {\n      let uploading = state.uploading.find(f => (file.path && f.path === file.path) || (file.uuid && f.uuid === file.uuid));\n      if(uploading) {\n        Object.assign(uploading, info);\n      }\n    },\n    removeUpload(state, file) {\n      const index = state.uploading.findIndex(f => (file.path && f.path === file.path) || (file.uuid && f.uuid === file.uuid));\n      if(index !== -1) {\n        delete file.uploading;\n        delete file.loaded;\n        delete file.total;\n        delete file.success;\n        delete file.error;\n        delete file.uploadPath;\n        delete file.uuid;\n        delete file.abort;\n        state.uploading.splice(index, 1);\n      }\n    }\n  },\n  getters: {\n    isUploading: (state, getters) => (file) => {\n      return !!state.uploading.find(f => (file.path && f.path === file.path) || (file.uuid && f.uuid === file.uuid));\n    },\n    uploadingProgress: (state, getters) => (file) => {\n      let upload = state.uploading.find(f => (file.path && f.path === file.path) || (file.uuid && f.uuid === file.uuid));\n      return upload && (100 * upload.loaded / upload.total) || 0;\n    },\n    uploading: (state, getters) => (dirPath) => {\n      return state.uploading.filter(f => f.uploadPath === dirPath);\n    },\n    donePromise: (state, getters) => (file) => {\n      let upload = state.uploading.find(f => (file.path && f.path === file.path) || (file.uuid && f.uuid === file.uuid));\n      return upload && upload.promise || Promise.reject();\n    }\n  },\n  actions: {\n    startUpload({ dispatch, commit }, file) {\n      commit(\"startUpload\", file)\n    },\n    updateUpload({ dispatch, commit }, { file, info} ) {\n      commit(\"updateUpload\", { file, info });\n    },\n    removeUpload({ dispatch, commit }, file) {\n      commit(\"removeUpload\", file);\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/GlobalStore.js","import 'es6-promise/auto';\nimport Vue from 'vue';\nimport App from './components/App.vue';\n// import MediaWidget from './components/MediaWidget';\n\n/**\n * Media Manager\n */\nexport class MM {\n\n    static install (vue, options) {\n        vue.component('VueMediaManager', App)\n        // vue.component('MediaWidget', MediaWidget)\n    }\n\n    constructor(opts) {\n        this.options = opts;\n        this.init();\n    }\n\n    init() {\n        /*\n         * Init Vue\n         */\n        let el = document.querySelector(this.options.el);\n        this.vm = new Vue({\n            el: this.options.el,\n            render: h => h(App, {\n                props: {\n                    id: el.id,\n                    opts: this.options\n                }\n            })\n        });\n    }\n\n    destroy() {\n        this.vm.$destroy();\n        this.vm.$el.innerHTML = '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"es6-promise/auto\"\n// module id = 12\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a5d2c98\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../assets/css/style.scss\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a5d2c98\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 13\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-618f99fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaManager.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-618f99fe\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediaManager.vue\n// module id = 15\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2bd574f2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UploadWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2bd574f2\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UploadWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UploadWidget.vue\n// module id = 17\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-widget\"},[(_vm.advancedUpload)?[_c('div',{staticClass:\"upload-drop-zone\",class:{ 'drag-over': _vm.dragOver }},[_c('form',{ref:\"form\",staticClass:\"animated fadeIn\",attrs:{\"method\":\"post\",\"enctype\":\"multipart/form-data\"},on:{\"dragover\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragenter\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragleave\":function($event){$event.preventDefault();_vm.dragOver=false},\"dragend\":function($event){$event.preventDefault();_vm.dragOver=false},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)},\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('svg',{staticClass:\"upload-widget-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"50\",\"height\":\"43\",\"viewBox\":\"0 0 50 43\"}},[_c('path',{attrs:{\"d\":\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"}})]),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.fileInputId}},[_c('strong',[_vm._v(\"Scegli un file\")]),_vm._v(\"\\n          \"),_c('span',[_vm._v(\"o trascinalo qui\")]),_vm._v(\".\\n        \")]),_vm._v(\" \"),_c('input',{ref:\"fileInput\",attrs:{\"id\":_vm.fileInputId,\"type\":\"file\",\"name\":\"files[]\",\"multiple\":\"\"},on:{\"change\":_vm.onSubmit}})])])]:[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\"Your browser does not support drag & drop file upload.\")])]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2bd574f2\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UploadWidget.vue\n// module id = 19\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6724f104\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediasWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediasWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediasWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6724f104\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediasWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediasWidget.vue\n// module id = 20\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46a39642\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46a39642\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediaWidget.vue\n// module id = 22\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file\",class:{ selected: _vm.selected, interrupted: _vm.file.error }},[_c('div',{staticClass:\"file-preview\"},[(_vm.file.thumb && !_vm.file.error)?[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}})]:(_vm.file.type=='dir')?[_vm._m(0)]:(!_vm.file.error)?[_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]:[_vm._m(1)],_vm._v(\" \"),(_vm.isAnUpload)?_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"bar\",style:({ width: _vm.uploadPercentage + '%' })})]):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"file-title\",attrs:{\"title\":_vm.filename}},[_c('h3',[_vm._v(_vm._s(_vm.filename))])]),_vm._v(\" \"),(_vm.isAnUpload)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.abortUpload(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"})])]):(_vm.canDelete)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-trash\"})])]):_vm._e(),_vm._v(\" \"),(!_vm.isAnUpload && _vm.canRename)?_c('div',{staticClass:\"top left actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-pencil\"})])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-folder\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-frown\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46a39642\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediaWidget.vue\n// module id = 24\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"medias-widget clearfix\"},[(_vm.error)?[_c('div',{staticClass:\"alert alert-warning animated fadeIn\"},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n            \"),_c('p',[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.refresh()}}},[_c('i',{staticClass:\"fa fa-fw fa-refresh\"}),_vm._v(\" Click here to retry\")])])])]:[_c('div',{staticClass:\"medias clearfix\"},[(_vm.loading)?[_vm._m(0)]:[(_vm.relPath)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.browse(_vm.pathUp)}}},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.canCreateFolder && !_vm.loading)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.createFolder()}}},[_vm._m(2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.files),function(file){return _c('media-widget',{key:file.path,staticClass:\"animated fadeIn\",class:{ invalid: file.type !== 'dir' && !_vm.mmc.checkFile(file) },attrs:{\"file\":file},nativeOn:{\"click\":function($event){return _vm.onMediaClick(file)},\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextMenu(file, $event)}}})}),_vm._v(\" \"),_vm._l((_vm.uploads),function(upload){return _c('media-widget',{key:upload.uuid,staticClass:\"animated fadeIn\",attrs:{\"file\":upload},nativeOn:{\"click\":function($event){return _vm.onMediaClick(upload)}}})})]],2),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showContextMenu)?_c('div',{staticClass:\"context-menu\",style:(_vm.contextMenuStyle)},[(_vm.contextMenuFile.type=='dir')?_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onMediaClick(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-folder-open\"}),_vm._v(\" Open\")])])]):_c('ul',[(_vm.mmc.isSelected(_vm.contextMenuFile))?_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.unselectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"}),_vm._v(\" Unselect\")])]):_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.selectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-check\"}),_vm._v(\" Select\")])])])]):_vm._e()])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file animated fadeIn\"},[_c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-spin fa-sync\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-backward\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-fw fa-folder-plus\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6724f104\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediasWidget.vue\n// module id = 25\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6de0f4fd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NotificationWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotificationWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotificationWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6de0f4fd\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NotificationWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NotificationWidget.vue\n// module id = 26\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notification-widget\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6de0f4fd\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NotificationWidget.vue\n// module id = 28\n// module chunks = 0","const faIconMatchExtension = [\n    {\n        name: 'file-alt',\n        extensions: ['txt']\n    },\n    {\n        name: 'file-pdf',\n        extensions: ['pdf']\n    },\n    {\n        name: 'file-word',\n        extensions: ['doc', 'docx']\n    },\n    {\n        name: 'file-excel',\n        extensions: ['xls', 'xlsx']\n    },\n    {\n        name: 'file-powerpoint',\n        extensions: ['ppt', 'pptx']\n    },\n    {\n        name: 'file-code',\n        extensions: ['html', 'php', 'js', 'cs', 'java']\n    },\n    {\n        name: 'file-video',\n        extensions: ['avi', 'mpg', 'mpeg', 'mp4', 'mov']\n    },\n    {\n        name: 'file-audio',\n        extensions: ['mp3', 'wav', 'flac', 'ogg']\n    },\n    {\n        name: 'file-archive',\n        extensions: ['zip', 'rar', '7z', 'tar', 'gz', 'tgz']\n    },\n];\n\nexport default class FaIconClassHelper {\n    static getFaIconClass(file) {\n        let str = 'fa fa-fw fa-';\n        if (file.type == 'dir') {\n            return str + 'folder';\n        }\n        var matchingIcon =\n            faIconMatchExtension.find(\n                iconMatch => iconMatch.extensions.indexOf(file.extension) >= 0\n            )\n        if (matchingIcon) {\n            str += matchingIcon.name\n        } else {\n            str += 'file'\n        }\n\n        return str;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/FaIconClassHelper.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mm\",class:{ 'mm-fixed-height': _vm.options.height },style:(_vm.options.height ? 'height:'+_vm.options.height : '')},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-body\"},[_c('notification-widget'),_vm._v(\" \"),(_vm.options.showBreadcrumb)?_c('ol',{staticClass:\"breadcrumb\"},_vm._l((_vm.breadcrumb),function(item){return _c('li',{key:item.path},[_c('a',{attrs:{\"href\":\"#\"},domProps:{\"innerHTML\":_vm._s(item.label)},on:{\"click\":function($event){$event.preventDefault();_vm.path=item.path}}})])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mm-content\"},[(_vm.api.options.uploadUrl)?_c('upload-widget',{key:\"upload\",ref:\"upload\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path},on:{\"upload-success\":_vm.onUploadSuccess,\"upload-error\":_vm.onUploadError}}):_vm._e(),_vm._v(\" \"),_c('medias-widget',{key:\"medias\",ref:\"medias\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path,\"uploads\":_vm.uploadsInPath}})],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-618f99fe\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediaManager.vue\n// module id = 30\n// module chunks = 0","import axios from 'axios';\n\nconst CancelToken = axios.CancelToken;\n\nexport default class Api {\n\n  static get defaultOptions() {\n    return {\n      baseUrl: null,\n      listUrl: null,\n      downloadUrl: null,\n      deleteUrl: null,\n      renameUrl: null,\n      createFolderUrl: null,\n      uploadUrl: null,\n      beforeUpload: null,\n      axiosOptions: {}\n    };\n  }\n\n  constructor(opts) {\n    this.options = { ...this.constructor.defaultOptions, ...opts };\n\n    if (this.options.baseUrl) {\n      this.options.axiosOptions.baseURL = this.options.baseUrl;\n    }\n\n    this.axios = axios.create(this.options.axiosOptions);\n  }\n\n  list(path) {\n    var conf = this.computeConfig({ params: { path: path } });\n    return this.axios.get(this.options.listUrl, conf);\n  }\n\n  upload(data, config, uploadFile) {\n    var conf = this.computeConfig(config);\n    var source = CancelToken.source();\n    var options = {\n      config: {\n        ...conf,\n        cancelToken: source.token\n      },\n      url: this.options.uploadUrl\n    };\n    let configured = Promise.resolve();\n    if (this.options.beforeUpload instanceof Function) {\n      configured = Promise.all([this.options.beforeUpload(options, data, uploadFile)]).then(a => a[0]);\n    }\n\n    uploadFile.abort = () => {\n      source.cancel();\n    };\n\n    return configured.then(() => {\n      return this.axios.post(options.url, data, options.config).then(res => {\n        if (this.options.afterUpload instanceof Function) {\n          return this.options.afterUpload(res, options, uploadFile);\n        } else {\n          return res;\n        }\n      });\n    });\n  }\n\n  delete(file) {\n    var conf = this.computeConfig({});\n    return this.axios.delete(this.deleteUrl(file), conf);\n  }\n\n  rename(file, name) {\n    var conf = this.computeConfig({});\n    return this.axios.patch(this.renameUrl(file), {\n      name: name\n    }, conf);\n  }\n\n  createFolderIn(parentFolder, name) {\n    var conf = this.computeConfig({});\n    return this.axios.post(this.createFolderUrl(parentFolder, name), {}, conf);\n  }\n\n  computeConfig(conf) {\n    if (!this.options.requestConfig) {\n      return conf\n    }\n    var overrideConf = this.options.requestConfig\n    if (overrideConf instanceof Function) {\n      overrideConf = overrideConf()\n    }\n    return { ...conf, ...overrideConf }\n  }\n\n  downloadUrl(file) {\n    return this.options.downloadUrl && this.options.downloadUrl + '?path=' + file.path;\n  }\n\n  deleteUrl(file) {\n    return this.options.deleteUrl && this.options.deleteUrl + '/' + file.path;\n  }\n\n  renameUrl(file) {\n    return this.options.renameUrl && this.options.deleteUrl + '/' + file.path;\n  }\n\n  createFolderUrl(parentFolder, name) {\n    return this.options.createFolderUrl && this.options.createFolderUrl + (parentFolder ? '/' + parentFolder : \"\") + '/' + name;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.js","export default class Store {\n  static create(component, options) {\n    /*\n     * Init selected\n     */\n\n    let selected = options.selected;\n    if (selected) {\n      if (Array.isArray(selected)) {\n        selected = selected.map(function (e) {\n          if (typeof e === \"string\") {\n            return { path: e };\n          } else {\n            return e;\n          }\n        });\n      } else {\n        if (typeof selected === \"string\") {\n          selected = { path: selected };\n        }\n      }\n    }\n\n    return {\n      state: {\n        mm: component,\n        options: options,\n        path: options.basePath + options.path,\n        selected: selected\n      },\n      mutations: {\n        setPath(state, path) {\n          state.path = options.basePath + path;\n        },\n        resetSelected(state) {\n          state.selected = null;\n        },\n        addSelected(state, file) {\n          if (state.options.multipleSelection) {\n            if (!Array.isArray(state.selected)) {\n              state.selected = [];\n            } else {\n              let index = state.selected.findIndex(element => { return (file.path && element.path === file.path) || (file.uuid && element.uuid === file.uuid); });\n              if (index > -1) return;\n            }\n            state.selected.push(file);\n          } else {\n            state.selected = file;\n          }\n          state.selected = JSON.parse(JSON.stringify(state.selected));\n          state.mm.onSelect({ selected: state.selected });\n        },\n        removeSelected(state, file) {\n          if (state.options.multipleSelection) {\n            if (!Array.isArray(state.selected)) return;\n            let index = state.selected.findIndex(element => { return (file.path && element.path === file.path) || (file.uuid && element.uuid === file.uuid); });\n            if (index > -1) {\n              state.selected.splice(index, 1);\n            }\n          } else {\n            if(state.seleted && ((file.uuid && state.selected.uuid === file.uuid) || (file.path && state.selected.path === file.path))) {\n              state.selected = null;\n            }\n          }\n          state.selected = JSON.parse(JSON.stringify(state.selected));\n          state.mm.onSelect({ selected: state.selected });\n        },\n        renameSelected(state, { file, newFile }) {\n          function patchInnerFile(item) {\n            item.path = newFile.path + item.path.substr(file.path.length);\n            let parentPath = item.path.substr(0, item.path.lastIndexOf(\"/\"));\n            let slashPos = parentPath.lastIndexOf(\"/\");\n            item.dirname = slashPos !== -1 ? parentPath.substr(slashPos + 1) : parentPath;\n\n            if (item.fileURL) {\n              item.fileURL = item.fileURL.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n            }\n\n            if (item.thumb) {\n              item.thumb = item.thumb.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n            }\n          }\n\n          let renamed = false;\n          if (state.options.multipleSelection) {\n            if (!Array.isArray(state.selected)) return;\n            let selectedItem = state.selected.find(i => i.path === file.path);\n            if (selectedItem) {\n              Object.assign(selectedItem, newFile);\n              renamed = true;\n            }\n\n            if (file.type === \"dir\") {\n              state.selected.filter(i => i.path.indexOf(file.path + \"/\") === 0).forEach(i => {\n                patchInnerFile(i);\n                renamed = true;\n              })\n            }\n          } else {\n            if (state.selected && state.selected.path === file.path) {\n              state.selected = newFile;\n              renamed = true;\n            }\n\n            if (file.type === \"dir\") {\n              if (state.selected && state.selected.path.indexOf(file.path + \"/\") === 0) {\n                patchInnerFile(state.selected);\n                renamed = true;\n              }\n            }\n          }\n          if (renamed) {\n            state.mm.onSelect({ selected: state.selected });\n          }\n        },\n        fileUploaded(state, file) {\n          function cleanFile(f) {\n            delete f.uploading;\n            delete f.loaded;\n            delete f.total;\n            delete f.success;\n            delete f.error;\n            delete f.uploadPath;\n            delete f.uuid;\n            delete f.abort;\n          }\n\n          if (state.options.multipleSelection) {\n            if (!Array.isArray(state.selected)) return;\n            let selectedItem = state.selected.find(i => i.uuid === file.uuid);\n            if (selectedItem) {\n              Object.assign(selectedItem, file);\n              Object.assign(file, selectedItem);\n              cleanFile(selectedItem);\n              cleanFile(file);\n            }\n          } else {\n            if (state.selected && state.selected.uuid === file.uuid) {\n              state.selected = file;\n              cleanFile(file);\n            }\n          }\n        }\n      },\n      getters: {\n        path: (state) => {\n          return state.path;\n        },\n        selected: (state, getters) => () => {\n          return state.selected;\n        },\n        isSelected: (state, getters) => (file) => {\n          if (state.options.multipleSelection) {\n            if (!Array.isArray(state.selected)) return false;\n            let index = state.selected.findIndex(element => {\n              return (file.path && element.path === file.path) || (file.uuid && element.uuid === file.uuid);\n            });\n            return index > -1;\n          } else {\n            return state.selected && ((file.path && state.selected.path === file.path) || (file.uuid && state.selected.uuid === file.uuid)) || false;\n          }\n        },\n        nbSelected: (state, getters) => {\n          if (Array.isArray(state.selected)) return state.selected.length;\n          if (state.selected) return 1;\n          return 0;\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Store.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-manager\",attrs:{\"id\":_vm.id}},[_c('div',{ref:\"mediaManager\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a5d2c98\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 33\n// module chunks = 0"],"sourceRoot":""}