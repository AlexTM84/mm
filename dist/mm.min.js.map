{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 15b87afb802754166db5","webpack:///mm.min.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///external \"vuex\"","webpack:///external \"vue\"","webpack:///src/components/App.vue","webpack:///src/components/MediaManager.vue","webpack:///src/components/UploadWidget.vue","webpack:///external \"axios\"","webpack:///src/components/UploadStatusWidget.vue","webpack:///src/components/MediasWidget.vue","webpack:///src/components/MediaWidget.vue","webpack:///src/components/DetailsWidget.vue","webpack:///src/components/NotificationWidget.vue","webpack:///./src/main.js","webpack:///external \"es6-promise/auto\"","webpack:///./src/components/App.vue","webpack:///./src/components/MediaManager.vue","webpack:///./src/components/UploadWidget.vue","webpack:///./src/components/UploadWidget.vue?b9da","webpack:///./src/components/UploadStatusWidget.vue","webpack:///./src/components/UploadStatusWidget.vue?886c","webpack:///./src/components/MediasWidget.vue","webpack:///./src/components/MediaWidget.vue","webpack:///./src/components/MediaWidget.vue?1c56","webpack:///./src/components/MediasWidget.vue?d168","webpack:///./src/components/DetailsWidget.vue","webpack:///./src/components/DetailsWidget.vue?c13a","webpack:///./src/components/NotificationWidget.vue","webpack:///./src/components/NotificationWidget.vue?48bb","webpack:///./src/FaIconClassHelper.js","webpack:///./src/components/MediaManager.vue?3081","webpack:///./src/api.js","webpack:///./src/Store.js","webpack:///./src/components/App.vue?4c6c"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_6__","__webpack_require__","moduleId","installedModules","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","type","default","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","concat","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_0_vue___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_1_vuex___default","__WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__","__WEBPACK_IMPORTED_MODULE_3__api_js__","__WEBPACK_IMPORTED_MODULE_4__Store__","_extends","assign","target","arguments","length","source","key","basePath","path","api","baseUrl","listUrl","downloadUrl","uploadUrl","input","multipleSelection","onCreated","onMounted","onSelect","showBreadcrumb","height","vue","asVueComponent","accept","components","MediaManager","props","data","store$","created","_input","computed","overrideOptions","document","querySelector","methods","e","selected","value","join","select","commit","file","deselect","mounted","store","mediaManager","$refs","el","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__","__WEBPACK_IMPORTED_MODULE_2__UploadStatusWidget_vue__","__WEBPACK_IMPORTED_MODULE_3__MediasWidget_vue__","__WEBPACK_IMPORTED_MODULE_4__DetailsWidget_vue__","__WEBPACK_IMPORTED_MODULE_5__NotificationWidget_vue__","__WEBPACK_IMPORTED_MODULE_6__FaIconClassHelper__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","Array","isArray","TypeError","MediasWidget","UploadWidget","UploadStatusWidget","DetailsWidget","NotificationWidget","uploads","showUpload","showUploadStatus","showMedias","showDetails","relPath","replace","breadcrumb","label","parts","onUploadSuccess","hideUploadStatus","medias","refresh","onUploadError","onDetailsClose","selectFile","$store","unselectFile","isSelected","getters","deleteFile","deleteUrl","confirmation","confirmDeletion","Function","Promise","resolve","reject","then","renameFile","renameUrl","askNewName","all","createFolderIn","createFolderUrl","askFolderName","parentFolder","toggleUploadStatusOn","hideUploadStatusTimeout","toggleUploadStatusOff","window","setTimeout","toggleUpload","toggleDetailsOn","toggleDetailsOff","checkFile","types","t","RegExp","test","mime","faIconClass","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","advancedUpload","loading","dragOver","errors","mmc","fileInputId","id","isAdvancedUpload","onDrop","files","dataTransfer","submit","toastr","error","onSubmit","fileInput","form","reset","index","upload","requests","buildRequest","loaded","total","reader","onload","thumb","result","readAsDataURL","formData","append","onUploadProgress","success","response","message","completed","onClose","uploadPercent","Math","round","filters","truncate","max","__WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__","MediaWidget","contextMenuFile","contextMenuX","contextMenuY","showContextMenu","$parent","canCreateFolder","pathUp","slice","contextMenuStyle","watch","$on","pos","newFile","destroyed","$off","createFolder","list","browse","onMediaClick","onDocumentClick","toggleContextMenuOff","onContextMenu","clientX","clientRect","left","clientY","top","toggleContextMenuOn","addEventListener","removeEventListener","canDelete","canRename","onUnselect","_classCallCheck","instance","Constructor","MM","__WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_1_vue___default","__WEBPACK_IMPORTED_MODULE_2__components_App_vue__","_createClass","defineProperties","descriptor","writable","protoProps","staticProps","opts","init","component","App","vm","Vue","$destroy","$el","innerHTML","injectStyle","normalizeComponent","__vue_styles__","Component","_vm","_h","$createElement","_c","_self","staticClass","class","ref","attrs","on","$event","preventDefault","_v","esExports","_l","domProps","$options","style","_m","basename","stopPropagation","invalid","nativeOn","staticStyle","timestamp","size","faIconMatchExtension","extensions","FaIconClassHelper","str","matchingIcon","find","iconMatch","indexOf","extension","item","directives","rawName","expression","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","Api","constructor","defaultOptions","axiosOptions","baseURL","axios","create","beforeUpload","conf","computeConfig","params","config","uploadFile","url","configured","post","res","afterUpload","delete","patch","requestConfig","overrideConf","Store","map","state","mm","mutations","resetSelected","addSelected","findIndex","element","JSON","parse","stringify","removeSelected","splice","renameSelected","patchInnerFile","substr","parentPath","lastIndexOf","slashPos","dirname","fileURL","renamed","selectedItem","filter","forEach","nbSelected"],"mappings":"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","file":"mm.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise/auto\", \"vue\", \"vuex\", \"axios\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\")) : factory(root[\"es6-promise/auto\"], root[\"vue\"], root[\"vuex\"], root[\"axios\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15b87afb802754166db5","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"es6-promise/auto\", \"vue\", \"vuex\", \"axios\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"es6-promise/auto\"), require(\"vue\"), require(\"vuex\"), require(\"axios\")) : factory(root[\"es6-promise/auto\"], root[\"vue\"], root[\"vuex\"], root[\"axios\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 12);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_js__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Store__ = __webpack_require__(39);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_1_vuex___default.a);\n\nvar defaultOptions = {\n    basePath: '',\n    path: '',\n    api: {\n        baseUrl: null,\n        listUrl: null,\n        downloadUrl: null,\n        uploadUrl: null,\n        options: {}\n    },\n    input: '',\n    multipleSelection: false,\n    onCreated: null,\n    onMounted: null,\n    onSelect: null,\n    showBreadcrumb: true,\n    height: null,\n    vue: __WEBPACK_IMPORTED_MODULE_0_vue___default.a,\n    asVueComponent: false,\n    accept: \"\"\n};\n\nvar mm = void 0;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: { MediaManager: __WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__[\"a\" /* default */] },\n    props: ['id', 'opts'],\n    data: function data() {\n        return {\n            store$: null\n        };\n    },\n    created: function created() {\n        this.options = _extends({}, defaultOptions, this.opts);\n\n        /*\n         * Init api\n         */\n        this.api = new __WEBPACK_IMPORTED_MODULE_3__api_js__[\"a\" /* default */](this.options.api);\n\n        if (this.options.onCreated) this.options.onCreated({ vc: this });\n\n        this._input = null;\n    },\n\n    computed: {\n        overrideOptions: function overrideOptions() {\n            return _extends({}, defaultOptions, this.options);\n        },\n        input: function input() {\n            /*\n            * Input options ?\n            */\n            if (!this._input && this.options.input) {\n                this._input = document.querySelector(this.options.input);\n            }\n            return this._input;\n        }\n    },\n    methods: {\n        onSelect: function onSelect(e) {\n            if (this.input) {\n                if (e.selected) {\n                    if (this.options.multipleSelection) {\n                        var selected = e.selected.map(function (element) {\n                            return element.path;\n                        });\n                        this.input.value = selected.join(\"\\n\");\n                    } else {\n                        this.input.value = e.selected.path;\n                    }\n                } else {\n                    this.input.value = '';\n                }\n            }\n\n            if (this.options.onSelect) this.options.onSelect(e);\n        },\n        select: function select(file) {\n            this.store$.commit('addSelected', file);\n        },\n        deselect: function deselect(file) {\n            this.store$.commit('removeSelected', file);\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n\n        if (this.options.onMounted) this.options.onMounted({ el: this.$el, vc: this });\n\n        var store = new __WEBPACK_IMPORTED_MODULE_1_vuex___default.a.Store(__WEBPACK_IMPORTED_MODULE_4__Store__[\"a\" /* default */].create(this, this.options));\n        this.store$ = store;\n\n        var mediaManager = this.$refs.mediaManager;\n\n        new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({\n            el: mediaManager,\n            store: store,\n            render: function render(h) {\n                return h(__WEBPACK_IMPORTED_MODULE_2__MediaManager_vue__[\"a\" /* default */], {\n                    props: {\n                        id: _this.id,\n                        api: _this.api\n                    }\n                });\n            }\n        });\n    }\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__UploadStatusWidget_vue__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MediasWidget_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__DetailsWidget_vue__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__NotificationWidget_vue__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__FaIconClassHelper__ = __webpack_require__(36);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: [\"api\", \"id\"],\n  components: {\n    MediasWidget: __WEBPACK_IMPORTED_MODULE_3__MediasWidget_vue__[\"a\" /* default */],\n    UploadWidget: __WEBPACK_IMPORTED_MODULE_1__UploadWidget_vue__[\"a\" /* default */],\n    UploadStatusWidget: __WEBPACK_IMPORTED_MODULE_2__UploadStatusWidget_vue__[\"a\" /* default */],\n    DetailsWidget: __WEBPACK_IMPORTED_MODULE_4__DetailsWidget_vue__[\"a\" /* default */],\n    NotificationWidget: __WEBPACK_IMPORTED_MODULE_5__NotificationWidget_vue__[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      path: this.$store.state.options.initialPath || this.$store.state.options.basePath,\n      uploads: [],\n      file: {},\n      showUpload: true,\n      showUploadStatus: false,\n      showMedias: true,\n      showDetails: false\n    };\n  },\n\n  computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"mapState\"])({\n    options: function options(state) {\n      return state.options;\n    },\n    basePath: function basePath(state) {\n      return state.options.basePath;\n    }\n  }), {\n    relPath: function relPath() {\n      return this.path.replace(this.basePath, \"\");\n    },\n    breadcrumb: function breadcrumb() {\n      var parts = this.relPath.split(\"/\"),\n          breadcrumb = [],\n          path = \"\";\n\n      breadcrumb.push({\n        label: '<i class=\"fa fa-fw fa-home\"></i>',\n        path: this.basePath\n      });\n      for (var i = 0; i < parts.length; i++) {\n        if (parts[i]) {\n          path += parts[i] + \"/\";\n          breadcrumb.push({\n            label: parts[i],\n            path: this.basePath + path.replace(/\\/$/, \"\")\n          });\n        }\n      }\n\n      return breadcrumb;\n    }\n  }),\n  created: function created() {},\n\n  methods: {\n    onUploadSuccess: function onUploadSuccess() {\n      this.hideUploadStatus();\n      this.$refs.medias.refresh();\n    },\n    onUploadError: function onUploadError(errors) {\n      this.hideUploadStatus();\n      this.$refs.medias.refresh();\n    },\n    onDetailsClose: function onDetailsClose() {\n      this.showDetails = false;\n      this.file = {};\n    },\n    selectFile: function selectFile(file) {\n      this.$store.commit(\"addSelected\", file);\n    },\n    unselectFile: function unselectFile(file) {\n      this.$store.commit(\"removeSelected\", file);\n    },\n    isSelected: function isSelected(file) {\n      return this.$store.getters.isSelected(file);\n    },\n    deleteFile: function deleteFile(file) {\n      var _this = this;\n\n      if (this.options.api.deleteUrl) {\n        var confirmation = void 0;\n        if (this.options.confirmDeletion instanceof Function) {\n          confirmation = this.options.confirmDeletion(file);\n        } else {\n          if (window.confirm(\"Are you sure to remove file \" + file.basename + \"?\")) {\n            confirmation = Promise.resolve();\n          } else {\n            confirmation = Promise.reject();\n          }\n        }\n        confirmation.then(function () {\n          _this.api.delete(file).then(function () {\n            _this.$store.commit(\"removeSelected\", file);\n            _this.$refs.medias.$emit(\"fileDeleted\", file);\n          }, function (e) {\n            if (_this.options.onError instanceof Function) {\n              _this.options.onError(e, \"delete\", file);\n            }\n          });\n        }, function () {});\n      }\n    },\n    renameFile: function renameFile(file) {\n      var _this2 = this;\n\n      var name = void 0;\n      if (this.options.api.renameUrl) {\n        if (this.options.askNewName instanceof Function) {\n          name = this.options.askNewName(file);\n        } else if (!(name = (window.prompt(\"Type the new name for \" + file.basename, file.basename) || \"\").trim())) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            name = _ref2[0];\n\n        if (name !== file.basename) {\n          return _this2.api.rename(file, name).then(function (response) {\n            var newFile = response.data;\n            _this2.$store.commit(\"renameSelected\", { file: file, newFile: newFile });\n            _this2.$refs.medias.$emit(\"fileRenamed\", file, newFile);\n          }, function (e) {\n            if (_this2.options.onError instanceof Function) {\n              _this2.options.onError(e, \"rename\", file, name);\n            }\n            return Promise.reject(e);\n          });\n        } else {\n          return Promise.reject();\n        }\n      });\n    },\n    createFolderIn: function createFolderIn(parentFolder) {\n      var _this3 = this;\n\n      var name = void 0;\n      if (this.options.api.createFolderUrl) {\n        if (this.options.askFolderName instanceof Function) {\n          name = this.options.askFolderName(parentFolder);\n        } else if (!(name = window.prompt(\"Type the name of the new folder\"))) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 1),\n            name = _ref4[0];\n\n        return _this3.api.createFolderIn(parentFolder, name);\n      });\n    },\n    toggleUploadStatusOn: function toggleUploadStatusOn() {\n      if (this.hideUploadStatusTimeout) window.clearTimeout(this.hideUploadStatusTimeout);\n      this.showUploadStatus = true;\n    },\n    toggleUploadStatusOff: function toggleUploadStatusOff() {\n      if (this.hideUploadStatusTimeout) window.clearTimeout(this.hideUploadStatusTimeout);\n      this.showUploadStatus = false;\n    },\n    hideUploadStatus: function hideUploadStatus() {\n      this.hideUploadStatusTimeout = window.setTimeout(this.toggleUploadStatusOff, 5000);\n    },\n    toggleUpload: function toggleUpload() {\n      this.showUpload = !this.showUpload;\n      this.showMedias = !this.showUpload;\n    },\n    toggleDetailsOn: function toggleDetailsOn(file) {\n      this.file = file;\n      this.showDetails = true;\n    },\n    toggleDetailsOff: function toggleDetailsOff() {\n      this.file = {};\n      this.showDetails = false;\n    },\n    checkFile: function checkFile(file) {\n      if (!this.options.accept) {\n        return true;\n      } else if (this.options.accept instanceof Function) {\n        return this.options.accept(file);\n      } else {\n        var types = [];\n        if (typeof this.options.accept === \"string\") {\n          types = [this.options.accept];\n        } else if (Array.isArray(this.options.accept)) {\n          types = this.options.accept;\n        }\n        for (var t in types) {\n          var type = types[t];\n          var re = new RegExp(\"^\" + type.replace(\"*\", \".*\").replace(\"/\", \"\\\\/\") + \"$\", \"i\");\n          if (re.test(file.mime)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    },\n\n    /**\n     * FA icon class helper\n     */\n    faIconClass: function faIconClass(file) {\n      return __WEBPACK_IMPORTED_MODULE_6__FaIconClassHelper__[\"a\" /* default */].getFaIconClass(file);\n    }\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* global toastr */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            advancedUpload: false,\n            loading: false,\n            dragOver: false,\n            errors: []\n        };\n    },\n\n    props: ['path'],\n    computed: {\n        mmc: function mmc() {\n            return this.$parent;\n        },\n        api: function api() {\n            return this.mmc.api;\n        },\n        fileInputId: function fileInputId() {\n            return this.mmc.id + '-file-input';\n        }\n    },\n    mounted: function mounted() {\n        this.advancedUpload = this.isAdvancedUpload();\n    },\n\n    methods: {\n        /**\n         * check drag&drop support\n         */\n        isAdvancedUpload: function isAdvancedUpload() {\n            var div = document.createElement('div');\n            return ('draggable' in div || 'ondragstart' in div && 'ondrop' in div) && 'FormData' in window && 'FileReader' in window;\n        },\n\n        /**\n         * drop handler\n         */\n        onDrop: function onDrop(e) {\n            this.dragOver = false;\n            this.files = [];\n            this.mmc.uploads = [];\n            //console.log(e.dataTransfer.files);\n            if (e.dataTransfer.files) {\n                if (e.dataTransfer.files.length > 0) {\n                    this.files = e.dataTransfer.files;\n                    this.submit();\n                } else {\n                    toastr.error('Empty file list.', 'Error');\n                }\n            } else {\n                toastr.error('Drop error.', 'Error');\n            }\n        },\n\n        /**\n         * submit handler\n         */\n        onSubmit: function onSubmit() {\n            if (this.$refs.fileInput.files) {\n                this.files = this.$refs.fileInput.files;\n                this.submit();\n                this.$refs.form.reset();\n            }\n        },\n\n        /**\n         * submit files\n         */\n        submit: function submit() {\n            var _this = this;\n\n            if (this.loading) return;\n            this.loading = true;\n            this.errors = [];\n\n            this.mmc.uploads = [];\n            this.mmc.toggleUploadStatusOn();\n\n            var requests = [];\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                file.index = i;\n                var upload = { name: file.name, type: file.type, loaded: 0, total: Math.max(100, file.size), success: false, error: false, path: this.path };\n                this.mmc.uploads.push(upload);\n                if (file.type) {\n                    requests.push(this.buildRequest(file, upload));\n                } else {\n                    upload.loaded = upload.total;\n                    upload.error = 'Invalid file.';\n                }\n            }\n\n            if (requests.length) {\n                __WEBPACK_IMPORTED_MODULE_1_axios___default.a.all(requests).then(__WEBPACK_IMPORTED_MODULE_1_axios___default.a.spread(function () {\n                    if (_this.errors.length == 0) {\n                        _this.$emit('upload-success');\n                    } else {\n                        _this.$emit('upload-error', _this.errors);\n                    }\n                    _this.loading = false;\n                }));\n            } else {\n                this.loading = false;\n            }\n        },\n\n        /**\n         * build axios request\n         */\n        buildRequest: function buildRequest(file, upload) {\n            var _this2 = this;\n\n            if (file.type.indexOf(\"image/\") != -1) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    upload.thumb = e.target.result;\n                };\n                reader.readAsDataURL(file);\n            }\n\n            var formData = new FormData();\n            formData.append('path', this.path);\n            formData.append('file', file);\n\n            return this.api.upload(formData, {\n                onUploadProgress: function onUploadProgress(progressEvent) {\n                    upload.loaded = progressEvent.loaded;\n                    upload.total = progressEvent.total;\n                }\n            }, upload).then(function (response) {\n                upload.success = true;\n            }, function (error) {\n                if (error.response && error.response.data && Array.isArray(error.response.data)) {\n                    var errors = error.response.data,\n                        message = '';\n                    for (var i = 0; i < errors.length; i++) {\n                        _this2.errors.push(errors[i]);\n                        if (errors[i].message) message += errors[i].message;\n                    }\n                    upload.error = message;\n                } else {\n                    _this2.errors.push({ message: error });\n                    upload.error = error;\n                }\n            });\n        }\n    }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {},\n    props: ['uploads'],\n    computed: {\n        mmc: function mmc() {\n            return this.$parent;\n        },\n        completed: function completed() {\n            var upload = void 0;\n            for (var i = 0; i < this.uploads.length; i++) {\n                upload = this.uploads[i];\n                if (upload.loaded < upload.total && !upload.error) return false;\n            }\n            return true;\n        }\n    },\n    methods: {\n        onClose: function onClose() {\n            if (this.completed) this.mmc.toggleUploadStatusOff();\n        },\n        uploadPercent: function uploadPercent(upload) {\n            return Math.round(upload.loaded / upload.total * 100);\n        }\n    },\n    filters: {\n        truncate: function truncate(value, max) {\n            max = max || 25;\n            return value.length > max ? value.substr(0, max) + '&hellip;' : value;\n        }\n    }\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__ = __webpack_require__(26);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* global $ */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: { MediaWidget: __WEBPACK_IMPORTED_MODULE_1__MediaWidget_vue__[\"a\" /* default */] },\n    data: function data() {\n        return {\n            files: [],\n            loading: false,\n            error: false,\n            contextMenuFile: {},\n            contextMenuX: 0,\n            contextMenuY: 0,\n            showContextMenu: false\n        };\n    },\n\n    props: ['path'],\n    computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"mapState\"])({\n        basePath: function basePath(state) {\n            return state.options.basePath;\n        }\n    }), {\n        mmc: function mmc() {\n            return this.$parent;\n        },\n        api: function api() {\n            return this.mmc.api;\n        },\n        relPath: function relPath() {\n            return this.path.replace(this.basePath, '');\n        },\n        canCreateFolder: function canCreateFolder() {\n            return this.mmc.options.api.createFolderUrl;\n        },\n        pathUp: function pathUp() {\n            var path = '',\n                index = this.relPath.lastIndexOf('/');\n            if (index > -1) {\n                path = this.relPath.slice(0, index);\n            }\n            return this.basePath + path;\n        },\n        contextMenuStyle: function contextMenuStyle() {\n            return 'left: ' + this.contextMenuX + 'px; top:' + this.contextMenuY + 'px;';\n        }\n    }),\n    watch: {\n        path: function path() {\n            this.refresh();\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n\n        this.refresh();\n\n        this.$on(\"fileDeleted\", function (file) {\n            var pos = _this.files.indexOf(file);\n            if (pos !== -1) {\n                _this.files.splice(pos, 1);\n            }\n        });\n\n        this.$on(\"fileRenamed\", function (file, newFile) {\n            Object.assign(file, newFile);\n        });\n    },\n    destroyed: function destroyed() {\n        this.$off(\"fileDeleted\");\n        this.$off(\"fileRenamed\");\n    },\n\n    methods: {\n        createFolder: function createFolder() {\n            var _this2 = this;\n\n            this.mmc.createFolderIn(this.path).then(function () {\n                _this2.refresh();\n            }, function () {});\n        },\n        refresh: function refresh() {\n            var _this3 = this;\n\n            this.loading = true;\n            this.error = false;\n\n            this.api.list(this.path).then(function (response) {\n                if (Array.isArray(response.data)) {\n                    response.data.sort(function (a, b) {\n                        var as = a.type + '/' + a.basename,\n                            bs = b.type + '/' + b.basename;\n                        return as.localeCompare(bs);\n                    });\n                    _this3.files = response.data;\n                }\n                _this3.loading = false;\n            }, function (error) {\n                // TODO\n                _this3.error = error.toString();\n                _this3.files = [];\n                _this3.loading = false;\n            });\n        },\n        browse: function browse(path) {\n            this.mmc.path = path;\n        },\n        onMediaClick: function onMediaClick(file) {\n            if (file.type == 'dir') {\n                this.browse(file.path);\n            } else {\n                var mmc = this.mmc;\n                if (mmc.isSelected(file)) {\n                    mmc.unselectFile(file);\n                } else {\n                    if (mmc.checkFile(file)) {\n                        mmc.selectFile(file);\n                    }\n                }\n            }\n        },\n        onDocumentClick: function onDocumentClick(e) {\n            this.toggleContextMenuOff();\n        },\n        onContextMenu: function onContextMenu(file, e) {\n            var clientRect = this.mmc.$el.getBoundingClientRect();\n            this.contextMenuFile = file;\n            this.contextMenuX = e.clientX - clientRect.left;\n            this.contextMenuY = e.clientY - clientRect.top;\n            this.toggleContextMenuOn();\n        },\n        toggleContextMenuOn: function toggleContextMenuOn() {\n            this.showContextMenu = true;\n            document.addEventListener('click', this.onDocumentClick);\n        },\n        toggleContextMenuOff: function toggleContextMenuOff() {\n            this.contextMenuFile = {};\n            this.contextMenuX = 0;\n            this.contextMenuY = 0;\n            this.showContextMenu = false;\n            document.removeEventListener('click', this.onDocumentClick);\n        }\n    }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    props: ['file'],\n    computed: {\n        mmc: function mmc() {\n            return this.$parent.$parent;\n        },\n        selected: function selected() {\n            return this.mmc.isSelected(this.file);\n        },\n        canDelete: function canDelete() {\n            return this.mmc.options.api.deleteUrl;\n        },\n        canRename: function canRename() {\n            return this.mmc.options.api.renameUrl;\n        }\n    },\n    methods: {\n        deleteFile: function deleteFile(file) {\n            this.mmc.deleteFile(file);\n        },\n        renameFile: function renameFile(file) {\n            this.mmc.renameFile(file);\n        }\n    }\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vuex__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    props: ['file'],\n    computed: _extends({}, Object(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"mapState\"])({\n        options: function options(state) {\n            return state.options;\n        }\n    }), {\n        mmc: function mmc() {\n            return this.$parent;\n        },\n        api: function api() {\n            return this.mmc.api;\n        }\n    }),\n    methods: {\n        onSelect: function onSelect() {\n            this.mmc.selectFile(this.file);\n            this.mmc.toggleDetailsOff();\n        },\n        onUnselect: function onUnselect() {\n            this.mmc.unselectFile(this.file);\n            this.mmc.toggleDetailsOff();\n        },\n        onClose: function onClose() {\n            this.mmc.toggleDetailsOff();\n        }\n    }\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    components: {},\n    data: function data() {\n        return {};\n    },\n\n    props: [],\n    computed: {},\n    watch: {},\n    created: function created() {},\n    mounted: function mounted() {},\n\n    methods: {}\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MM\", function() { return MM; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise_auto___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_es6_promise_auto__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_App_vue__ = __webpack_require__(14);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n/**\n * Media Manager\n */\nvar MM = function () {\n    _createClass(MM, null, [{\n        key: 'install',\n        value: function install(vue, options) {\n            vue.component('vue-media-manager', __WEBPACK_IMPORTED_MODULE_2__components_App_vue__[\"a\" /* default */]);\n        }\n    }]);\n\n    function MM(opts) {\n        _classCallCheck(this, MM);\n\n        this.options = opts;\n        this.init();\n    }\n\n    _createClass(MM, [{\n        key: 'init',\n        value: function init() {\n            var _this = this;\n\n            /*\n             * Init Vue\n             */\n            var el = document.querySelector(this.options.el);\n            this.vm = new __WEBPACK_IMPORTED_MODULE_1_vue___default.a({\n                el: this.options.el,\n                render: function render(h) {\n                    return h(__WEBPACK_IMPORTED_MODULE_2__components_App_vue__[\"a\" /* default */], {\n                        props: {\n                            id: el.id,\n                            opts: _this.options\n                        }\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.vm.$destroy();\n            this.vm.$el.innerHTML = '';\n        }\n    }]);\n\n    return MM;\n}();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(3);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ffe50492_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(40);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(15)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_ffe50492_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaManager_vue__ = __webpack_require__(4);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_883b0058_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaManager_vue__ = __webpack_require__(37);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(17)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaManager_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_883b0058_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaManager_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadWidget_vue__ = __webpack_require__(5);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0652b78f_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadWidget_vue__ = __webpack_require__(20);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(19)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0652b78f_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-widget\"},[(_vm.advancedUpload)?[_c('div',{staticClass:\"upload-drop-zone\",class:{ 'drag-over': _vm.dragOver }},[_c('form',{ref:\"form\",staticClass:\"animated fadeIn\",attrs:{\"method\":\"post\",\"enctype\":\"multipart/form-data\"},on:{\"dragover\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragenter\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragleave\":function($event){$event.preventDefault();_vm.dragOver=false},\"dragend\":function($event){$event.preventDefault();_vm.dragOver=false},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)},\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('svg',{staticClass:\"upload-widget-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"50\",\"height\":\"43\",\"viewBox\":\"0 0 50 43\"}},[_c('path',{attrs:{\"d\":\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"}})]),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.fileInputId}},[_c('strong',[_vm._v(\"Scegli un file\")]),_vm._v(\" \"),_c('span',[_vm._v(\"o trascinalo qui\")]),_vm._v(\".\")]),_vm._v(\" \"),_c('input',{ref:\"fileInput\",attrs:{\"id\":_vm.fileInputId,\"type\":\"file\",\"name\":\"files[]\",\"multiple\":\"\"},on:{\"change\":_vm.onSubmit}})])])]:[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\"Your browser does not support drag & drop file upload.\")])]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadStatusWidget_vue__ = __webpack_require__(7);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9d758cc6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadStatusWidget_vue__ = __webpack_require__(23);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(22)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_UploadStatusWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9d758cc6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_UploadStatusWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-status-widget panel-modal\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\"\\n            Upload Status\\n            \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.onClose}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered\"},[_c('tbody',_vm._l((_vm.uploads),function(upload,index){return _c('tr',[_c('th',{domProps:{\"innerHTML\":_vm._s(_vm.$options.filters.truncate(upload.name))}}),_vm._v(\" \"),_c('td',[_c('div',{key:index,staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar\",class:{ 'progress-bar-success': upload.success, 'progress-bar-danger': upload.error },style:('width: '+_vm.uploadPercent(upload)+'%;'),attrs:{\"aria-valuenow\":_vm.uploadPercent(upload),\"role\":\"progressbar\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}},[(upload.success)?[_vm._v(\"File has been uploaded.\")]:(upload.error)?[_vm._v(_vm._s(upload.error))]:[_vm._v(_vm._s(_vm.uploadPercent(upload))+\" %\")]],2)])])])}),0)])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediasWidget_vue__ = __webpack_require__(8);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0f98cc6c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediasWidget_vue__ = __webpack_require__(29);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(25)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediasWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0f98cc6c_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediasWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaWidget_vue__ = __webpack_require__(9);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_09d370fe_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaWidget_vue__ = __webpack_require__(28);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(27)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_MediaWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_09d370fe_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_MediaWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file\",class:{ selected: _vm.selected }},[_c('div',{staticClass:\"file-preview\"},[(_vm.file.thumb)?[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}})]:(_vm.file.type=='dir')?[_vm._m(0)]:[_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]],2),_vm._v(\" \"),_c('div',{staticClass:\"file-title\"},[_c('h3',[_vm._v(_vm._s(_vm.file.basename))])]),_vm._v(\" \"),(_vm.canDelete)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-trash\"})])]):_vm._e(),_vm._v(\" \"),(_vm.canRename)?_c('div',{staticClass:\"top left actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-pencil\"})])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-folder\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"medias-widget clearfix\"},[(_vm.error)?[_c('div',{staticClass:\"alert alert-warning animated fadeIn\"},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n            \"),_c('p',[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.refresh()}}},[_c('i',{staticClass:\"fa fa-fw fa-refresh\"}),_vm._v(\" Click here to retry\")])])])]:[_c('div',{staticClass:\"medias clearfix\"},[(_vm.loading)?[_vm._m(0)]:[(_vm.relPath)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.browse(_vm.pathUp)}}},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.canCreateFolder && !_vm.loading)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.createFolder()}}},[_vm._m(2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.files),function(file){return _c('media-widget',{key:file.path,staticClass:\"animated fadeIn\",class:{ invalid: file.type !== 'dir' && !_vm.mmc.checkFile(file) },attrs:{\"file\":file},nativeOn:{\"click\":function($event){return _vm.onMediaClick(file)},\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextMenu(file, $event)}}})})]],2),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showContextMenu)?_c('div',{staticClass:\"context-menu\",style:(_vm.contextMenuStyle)},[(_vm.contextMenuFile.type=='dir')?_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onMediaClick(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-folder-open\"}),_vm._v(\" Open\")])])]):_c('ul',[(_vm.mmc.isSelected(_vm.contextMenuFile))?_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.unselectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"}),_vm._v(\" Unselect\")])]):_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.selectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-check\"}),_vm._v(\" Select\")])])])]):_vm._e()])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file animated fadeIn\"},[_c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-spin fa-sync\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-backward\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-fw fa-folder-plus\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DetailsWidget_vue__ = __webpack_require__(10);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_358738cd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DetailsWidget_vue__ = __webpack_require__(32);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(31)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_DetailsWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_358738cd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_DetailsWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details-widget panel-modal\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\"\\n            Media Details\\n            \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.onClose}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"details-widget-content panel-body\"},[_c('table',{staticClass:\"table table-bordered\"},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"center\"},attrs:{\"rowspan\":\"4\"}},[(_vm.file.thumb)?_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}}):_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.basename))])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"Path\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.path))])]),_vm._v(\" \"),(_vm.file.timestamp)?_c('tr',[_c('th',[_vm._v(\"Date\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.timestamp))])]):_vm._e(),_vm._v(\" \"),(_vm.file.size)?_c('tr',[_c('th',[_vm._v(\"Size\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.size))])]):_vm._e()])]),_vm._v(\" \"),_c('p',{staticClass:\"buttons\"},[_c('button',{staticClass:\"btn btn-default btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose($event)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Close\")]),_vm._v(\" \"),(_vm.file.type!='dir')?[(_vm.api.downloadUrl(_vm.file))?_c('a',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"href\":_vm.api.downloadUrl(_vm.file),\"role\":\"button\"}},[_c('i',{staticClass:\"fa fa-download\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Download\")]):_vm._e(),_vm._v(\" \"),(_vm.mmc.isSelected(_vm.file))?_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onUnselect($event)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Unselect\")]):_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSelect($event)}}},[_c('i',{staticClass:\"fa fa-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Select\")])]:_vm._e()],2)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_NotificationWidget_vue__ = __webpack_require__(11);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6de0f4fd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_NotificationWidget_vue__ = __webpack_require__(35);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(34)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_NotificationWidget_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6de0f4fd_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_NotificationWidget_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notification-widget\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar faIconMatchExtension = [{\n    name: 'file-alt',\n    extensions: ['txt']\n}, {\n    name: 'file-pdf',\n    extensions: ['pdf']\n}, {\n    name: 'file-word',\n    extensions: ['doc', 'docx']\n}, {\n    name: 'file-excel',\n    extensions: ['xls', 'xlsx']\n}, {\n    name: 'file-powerpoint',\n    extensions: ['ppt', 'pptx']\n}, {\n    name: 'file-code',\n    extensions: ['html', 'php', 'js', 'cs', 'java']\n}, {\n    name: 'file-video',\n    extensions: ['avi', 'mpg', 'mpeg', 'mp4', 'mov']\n}, {\n    name: 'file-audio',\n    extensions: ['mp3', 'wav', 'flac', 'ogg']\n}, {\n    name: 'file-archive',\n    extensions: ['zip', 'rar', '7z', 'tar', 'gz', 'tgz']\n}];\n\nvar FaIconClassHelper = function () {\n    function FaIconClassHelper() {\n        _classCallCheck(this, FaIconClassHelper);\n    }\n\n    _createClass(FaIconClassHelper, null, [{\n        key: 'getFaIconClass',\n        value: function getFaIconClass(file) {\n            var str = 'fa fa-fw fa-';\n            if (file.type == 'dir') {\n                return str + 'folder';\n            }\n            var matchingIcon = faIconMatchExtension.find(function (iconMatch) {\n                return iconMatch.extensions.indexOf(file.extension) >= 0;\n            });\n            if (matchingIcon) {\n                str += matchingIcon.name;\n            } else {\n                str += 'file';\n            }\n\n            return str;\n        }\n    }]);\n\n    return FaIconClassHelper;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (FaIconClassHelper);\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mm\",class:{ 'mm-fixed-height': _vm.options.height },style:(_vm.options.height ? 'height:'+_vm.options.height : '')},[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showDetails)?_c('details-widget',{key:\"details\",ref:\"details\",attrs:{\"file\":_vm.file}}):_vm._e()],1),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showUploadStatus)?_c('upload-status-widget',{key:\"details\",ref:\"details\",attrs:{\"uploads\":_vm.uploads}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-body\"},[_c('notification-widget'),_vm._v(\" \"),(_vm.options.showBreadcrumb)?_c('ol',{staticClass:\"breadcrumb\"},_vm._l((_vm.breadcrumb),function(item){return _c('li',{key:item.path},[_c('a',{attrs:{\"href\":\"#\"},domProps:{\"innerHTML\":_vm._s(item.label)},on:{\"click\":function($event){$event.preventDefault();_vm.path=item.path}}})])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mm-content\"},[(_vm.api.options.uploadUrl)?_c('upload-widget',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],key:\"upload\",ref:\"upload\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path},on:{\"upload-success\":_vm.onUploadSuccess,\"upload-error\":_vm.onUploadError}}):_vm._e(),_vm._v(\" \"),_c('medias-widget',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMedias),expression:\"showMedias\"}],key:\"medias\",ref:\"medias\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path}})],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Api = function () {\n  _createClass(Api, null, [{\n    key: 'defaultOptions',\n    get: function get() {\n      return {\n        baseUrl: null,\n        listUrl: null,\n        downloadUrl: null,\n        deleteUrl: null,\n        renameUrl: null,\n        createFolderUrl: null,\n        uploadUrl: null,\n        beforeUpload: null,\n        axiosOptions: {}\n      };\n    }\n  }]);\n\n  function Api(opts) {\n    _classCallCheck(this, Api);\n\n    this.options = _extends({}, this.constructor.defaultOptions, opts);\n\n    if (this.options.baseUrl) {\n      this.options.axiosOptions.baseURL = this.options.baseUrl;\n    }\n\n    this.axios = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create(this.options.axiosOptions);\n  }\n\n  _createClass(Api, [{\n    key: 'list',\n    value: function list(path) {\n      var conf = this.computeConfig({ params: { path: path } });\n      return this.axios.get(this.options.listUrl, conf);\n    }\n  }, {\n    key: 'upload',\n    value: function upload(data, config, uploadFile) {\n      var _this = this;\n\n      var conf = this.computeConfig(config);\n      var options = {\n        config: conf,\n        url: this.options.uploadUrl\n      };\n      var configured = Promise.resolve();\n      if (this.options.beforeUpload instanceof Function) {\n        configured = Promise.all([this.options.beforeUpload(options, data, uploadFile)]).then(function (a) {\n          return a[0];\n        });\n      }\n\n      return configured.then(function () {\n        return _this.axios.post(options.url, data, options.config).then(function (res) {\n          if (_this.options.afterUpload instanceof Function) {\n            return _this.options.afterUpload(res, options, uploadFile);\n          } else {\n            return res;\n          }\n        });\n      });\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(file) {\n      var conf = this.computeConfig({});\n      return this.axios.delete(this.deleteUrl(file), conf);\n    }\n  }, {\n    key: 'rename',\n    value: function rename(file, name) {\n      var conf = this.computeConfig({});\n      return this.axios.patch(this.renameUrl(file), {\n        name: name\n      }, conf);\n    }\n  }, {\n    key: 'createFolderIn',\n    value: function createFolderIn(parentFolder, name) {\n      var conf = this.computeConfig({});\n      return this.axios.post(this.createFolderUrl(parentFolder, name), {}, conf);\n    }\n  }, {\n    key: 'computeConfig',\n    value: function computeConfig(conf) {\n      if (!this.options.requestConfig) {\n        return conf;\n      }\n      var overrideConf = this.options.requestConfig;\n      if (overrideConf instanceof Function) {\n        overrideConf = overrideConf();\n      }\n      return _extends({}, conf, overrideConf);\n    }\n  }, {\n    key: 'downloadUrl',\n    value: function downloadUrl(file) {\n      return this.options.downloadUrl && this.options.downloadUrl + '?path=' + file.path;\n    }\n  }, {\n    key: 'deleteUrl',\n    value: function deleteUrl(file) {\n      return this.options.deleteUrl && this.options.deleteUrl + '/' + file.path;\n    }\n  }, {\n    key: 'renameUrl',\n    value: function renameUrl(file) {\n      return this.options.renameUrl && this.options.deleteUrl + '/' + file.path;\n    }\n  }, {\n    key: 'createFolderUrl',\n    value: function createFolderUrl(parentFolder, name) {\n      return this.options.createFolderUrl && this.options.createFolderUrl + (parentFolder ? '/' + parentFolder : \"\") + '/' + name;\n    }\n  }]);\n\n  return Api;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Api);\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Store = function () {\n    function Store() {\n        _classCallCheck(this, Store);\n    }\n\n    _createClass(Store, null, [{\n        key: \"create\",\n        value: function create(component, options) {\n            /*\n             * Init selected\n             */\n            var selected = options.selected;\n            if (selected) {\n                if (Array.isArray(selected)) {\n                    selected = selected.map(function (e) {\n                        if (typeof e === \"string\") {\n                            return { path: e };\n                        } else {\n                            return e;\n                        }\n                    });\n                } else {\n                    if (typeof selected === \"string\") {\n                        selected = { path: selected };\n                    }\n                }\n            }\n\n            return {\n                state: {\n                    mm: component,\n                    options: options,\n                    path: options.basePath + options.path,\n                    selected: selected\n                },\n                mutations: {\n                    resetSelected: function resetSelected(state) {\n                        state.selected = null;\n                    },\n                    addSelected: function addSelected(state, file) {\n                        if (state.options.multipleSelection) {\n                            if (!Array.isArray(state.selected)) {\n                                state.selected = [];\n                            } else {\n                                var index = state.selected.findIndex(function (element) {\n                                    return element.path === file.path;\n                                });\n                                if (index > -1) return;\n                            }\n                            state.selected.push(file);\n                        } else {\n                            state.selected = file;\n                        }\n                        state.selected = JSON.parse(JSON.stringify(state.selected));\n                        state.mm.onSelect({ selected: state.selected });\n                    },\n                    removeSelected: function removeSelected(state, file) {\n                        if (state.options.multipleSelection) {\n                            if (!Array.isArray(state.selected)) return;\n                            var index = state.selected.findIndex(function (element) {\n                                return element.path === file.path;\n                            });\n                            if (index > -1) {\n                                state.selected.splice(index, 1);\n                            }\n                        } else {\n                            state.selected = null;\n                        }\n                        state.selected = JSON.parse(JSON.stringify(state.selected));\n                        state.mm.onSelect({ selected: state.selected });\n                    },\n                    renameSelected: function renameSelected(state, _ref) {\n                        var file = _ref.file,\n                            newFile = _ref.newFile;\n\n                        function patchInnerFile(item) {\n                            item.path = newFile.path + item.path.substr(file.path.length);\n                            var parentPath = item.path.substr(0, item.path.lastIndexOf(\"/\"));\n                            var slashPos = parentPath.lastIndexOf(\"/\");\n                            item.dirname = slashPos !== -1 ? parentPath.substr(slashPos + 1) : parentPath;\n\n                            if (item.fileURL) {\n                                item.fileURL = item.fileURL.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n                            }\n\n                            if (item.thumb) {\n                                item.thumb = item.thumb.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n                            }\n                        }\n\n                        var renamed = false;\n                        if (state.options.multipleSelection) {\n                            if (!Array.isArray(state.selected)) return;\n                            var selectedItem = state.selected.find(function (i) {\n                                return i.path === file.path;\n                            });\n                            if (selectedItem) {\n                                Object.assign(selectedItem, newFile);\n                                renamed = true;\n                            }\n\n                            if (file.type === \"dir\") {\n                                state.selected.filter(function (i) {\n                                    return i.path.indexOf(file.path + \"/\") === 0;\n                                }).forEach(function (i) {\n                                    patchInnerFile(i);\n                                    renamed = true;\n                                });\n                            }\n                        } else {\n                            if (state.selected && state.selected.path === file.path) {\n                                state.selected = newFile;\n                                renamed = true;\n                            }\n\n                            if (file.type === \"dir\") {\n                                if (state.selected && state.selected.path.indexOf(file.path + \"/\") === 0) {\n                                    patchInnerFile(state.selected);\n                                    renamed = true;\n                                }\n                            }\n                        }\n                        if (renamed) {\n                            state.mm.onSelect({ selected: state.selected });\n                        }\n                    }\n                },\n                getters: {\n                    isSelected: function isSelected(state, getters) {\n                        return function (file) {\n                            //if (!state.options.input) return false;\n                            if (state.options.multipleSelection) {\n                                if (!Array.isArray(state.selected)) return false;\n                                var index = state.selected.findIndex(function (element) {\n                                    return element.path === file.path;\n                                });\n                                return index > -1;\n                            } else {\n                                return state.selected && state.selected.path === file.path || false;\n                            }\n                        };\n                    },\n                    nbSelected: function nbSelected(state, getters) {\n                        if (Array.isArray(state.selected)) return state.selected.length;\n                        if (state.selected) return 1;\n                        return 0;\n                    }\n                }\n            };\n        }\n    }]);\n\n    return Store;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Store);\n\n/***/ }),\n/* 40 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-manager\",attrs:{\"id\":_vm.id}},[_c('div',{ref:\"mediaManager\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mm.min.js","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vuex\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 2\n// module chunks = 0","<template>\n    <div class=\"media-manager\" v-bind:id=\"id\">\n\n        <div ref=\"mediaManager\"></div>\n\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport MediaManager from './MediaManager.vue';\nimport Api from '../api.js';\nimport Store from '../Store'\n\nVue.use(Vuex);\n\nconst defaultOptions = {\n    basePath: '',\n    path: '',\n    api: {\n        baseUrl: null,\n        listUrl: null,\n        downloadUrl: null,\n        uploadUrl: null,\n        options: {}\n    },\n    input: '',\n    multipleSelection: false,\n    onCreated: null,\n    onMounted: null,\n    onSelect: null,\n    showBreadcrumb: true,\n    height: null,\n    vue: Vue,\n    asVueComponent: false,\n    accept: \"\"\n}\n\nlet mm;\n\nexport default {\n    components: { MediaManager },\n    props: [ 'id', 'opts'],\n    data() {\n        return {\n            store$: null\n        };\n    },\n    created() {\n        this.options = { ...defaultOptions, ...this.opts };\n\n        /*\n         * Init api\n         */\n        this.api = new Api(this.options.api);\n\n        if (this.options.onCreated)\n            this.options.onCreated({ vc: this });\n\n        this._input = null;\n    },\n    computed: {\n        overrideOptions () {\n            return { ...defaultOptions, ...this.options }\n        },\n        input () {\n            /*\n            * Input options ?\n            */\n            if (!this._input && this.options.input) {\n                this._input = document.querySelector(this.options.input);\n            }\n            return this._input;\n        }\n    },\n    methods: {\n        onSelect(e) {\n            if (this.input) {\n                if (e.selected) {\n                    if (this.options.multipleSelection) {\n                        let selected = e.selected.map(element => { return element.path; });\n                        this.input.value = selected.join(\"\\n\");\n                    } else {\n                        this.input.value = e.selected.path;\n                    }\n                } else {\n                    this.input.value = '';\n                }\n            }\n\n            if (this.options.onSelect)\n                this.options.onSelect(e);\n        },\n        select(file) {\n            this.store$.commit('addSelected', file);\n        },\n        deselect(file) {\n            this.store$.commit('removeSelected', file);\n        }\n    },\n    mounted() {\n        if (this.options.onMounted)\n            this.options.onMounted({ el: this.$el, vc: this });\n\n        const store = new Vuex.Store(Store.create(this, this.options));\n        this.store$ = store;\n\n        var mediaManager = this.$refs.mediaManager\n\n        new Vue({\n            el: mediaManager,\n            store,\n            render: h => h(MediaManager, {\n                props: {\n                    id: this.id,\n                    api: this.api\n                }\n            })\n        });\n    }\n};\n</script>\n\n<style src=\"../assets/css/style.scss\" lang=\"scss\">\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/App.vue","<template>\n  <div\n    class=\"mm\"\n    v-bind:class=\"{ 'mm-fixed-height': options.height }\"\n    v-bind:style=\"options.height ? 'height:'+options.height : ''\"\n  >\n    <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"animated fadeOut\">\n      <details-widget v-if=\"showDetails\" v-bind:file=\"file\" ref=\"details\" key=\"details\"></details-widget>\n    </transition>\n\n    <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"animated fadeOut\">\n      <upload-status-widget\n        v-if=\"showUploadStatus\"\n        v-bind:uploads=\"uploads\"\n        ref=\"details\"\n        key=\"details\"\n      ></upload-status-widget>\n    </transition>\n\n    <div class=\"panel panel-default\">\n      <!--<div class=\"panel-heading\">-->\n      <!--    <div class=\"btn-group btn-group-xs\">-->\n      <!--    <button v-on:click=\"toggleUpload\" class=\"btn btn-default\">-->\n      <!--        <i class=\"fa fa-upload\" aria-hidden=\"true\"></i>-->\n      <!--    </button>-->\n      <!--    <button class=\"btn btn-default\">-->\n      <!--        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>-->\n      <!--        <i class=\"fa fa-folder-open\" aria-hidden=\"true\"></i>-->\n      <!--    </button>-->\n      <!--    </div>-->\n      <!--</div>-->\n\n      <div class=\"panel-body\">\n        <notification-widget></notification-widget>\n\n        <ol v-if=\"options.showBreadcrumb\" class=\"breadcrumb\">\n          <li v-for=\"item in breadcrumb\" :key=\"item.path\">\n            <a v-on:click.prevent=\"path=item.path\" v-html=\"item.label\" href=\"#\"></a>\n          </li>\n        </ol>\n\n        <div class=\"mm-content\">\n          <upload-widget\n            v-if=\"api.options.uploadUrl\"\n            v-bind:path=\"path\"\n            v-show=\"showUpload\"\n            v-on:upload-success=\"onUploadSuccess\"\n            v-on:upload-error=\"onUploadError\"\n            ref=\"upload\"\n            key=\"upload\"\n            class=\"animated fadeIn\"\n          ></upload-widget>\n\n          <medias-widget\n            v-bind:path=\"path\"\n            v-show=\"showMedias\"\n            ref=\"medias\"\n            key=\"medias\"\n            class=\"animated fadeIn\"\n          ></medias-widget>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nimport UploadWidget from \"./UploadWidget.vue\";\nimport UploadStatusWidget from \"./UploadStatusWidget.vue\";\nimport MediasWidget from \"./MediasWidget.vue\";\nimport DetailsWidget from \"./DetailsWidget.vue\";\nimport NotificationWidget from \"./NotificationWidget.vue\";\nimport FaIconClassHelper from \"../FaIconClassHelper\";\n\nexport default {\n  props: [\"api\", \"id\"],\n  components: {\n    MediasWidget,\n    UploadWidget,\n    UploadStatusWidget,\n    DetailsWidget,\n    NotificationWidget\n  },\n  data() {\n    return {\n      path:\n        this.$store.state.options.initialPath ||\n        this.$store.state.options.basePath,\n      uploads: [],\n      file: {},\n      showUpload: true,\n      showUploadStatus: false,\n      showMedias: true,\n      showDetails: false\n    };\n  },\n  computed: {\n    ...mapState({\n      options: state => state.options,\n      basePath: state => state.options.basePath\n    }),\n    relPath() {\n      return this.path.replace(this.basePath, \"\");\n    },\n    breadcrumb() {\n      let parts = this.relPath.split(\"/\"),\n        breadcrumb = [],\n        path = \"\";\n\n      breadcrumb.push({\n        label: '<i class=\"fa fa-fw fa-home\"></i>',\n        path: this.basePath\n      });\n      for (let i = 0; i < parts.length; i++) {\n        if (parts[i]) {\n          path += parts[i] + \"/\";\n          breadcrumb.push({\n            label: parts[i],\n            path: this.basePath + path.replace(/\\/$/, \"\")\n          });\n        }\n      }\n\n      return breadcrumb;\n    }\n  },\n  created() {},\n  methods: {\n    onUploadSuccess() {\n      this.hideUploadStatus();\n      this.$refs.medias.refresh();\n    },\n    onUploadError(errors) {\n      this.hideUploadStatus();\n      this.$refs.medias.refresh();\n    },\n    onDetailsClose() {\n      this.showDetails = false;\n      this.file = {};\n    },\n    selectFile(file) {\n      this.$store.commit(\"addSelected\", file);\n    },\n    unselectFile(file) {\n      this.$store.commit(\"removeSelected\", file);\n    },\n    isSelected(file) {\n      return this.$store.getters.isSelected(file);\n    },\n    deleteFile(file) {\n      if (this.options.api.deleteUrl) {\n        let confirmation;\n        if (this.options.confirmDeletion instanceof Function) {\n          confirmation = this.options.confirmDeletion(file);\n        } else {\n          if (\n            window.confirm(\"Are you sure to remove file \" + file.basename + \"?\")\n          ) {\n            confirmation = Promise.resolve();\n          } else {\n            confirmation = Promise.reject();\n          }\n        }\n        confirmation.then(\n          () => {\n            this.api.delete(file).then(\n              () => {\n                this.$store.commit(\"removeSelected\", file);\n                this.$refs.medias.$emit(\"fileDeleted\", file);\n              },\n              e => {\n                if (this.options.onError instanceof Function) {\n                  this.options.onError(e, \"delete\", file);\n                }\n              }\n            );\n          },\n          () => {}\n        );\n      }\n    },\n    renameFile(file) {\n      let name;\n      if (this.options.api.renameUrl) {\n        if (this.options.askNewName instanceof Function) {\n          name = this.options.askNewName(file);\n        } else if (!(name = (window.prompt(\"Type the new name for \" + file.basename, file.basename) || \"\").trim())) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(([name]) => {\n        if(name !== file.basename) {\n          return this.api.rename(file, name).then(response => {\n            let newFile = response.data;\n            this.$store.commit(\"renameSelected\", { file, newFile} );\n            this.$refs.medias.$emit(\"fileRenamed\", file, newFile);\n          }, e => {\n            if (this.options.onError instanceof Function) {\n              this.options.onError(e, \"rename\", file, name);\n            }\n            return Promise.reject(e);\n          });\n        } else {\n          return Promise.reject();\n        }\n      });\n    },\n    createFolderIn(parentFolder) {\n      let name;\n      if (this.options.api.createFolderUrl) {\n        if (this.options.askFolderName instanceof Function) {\n          name = this.options.askFolderName(parentFolder);\n        } else if (!(name = window.prompt(\"Type the name of the new folder\"))) {\n          name = Promise.reject();\n        }\n      }\n      return Promise.all([name]).then(([name]) => {\n        return this.api.createFolderIn(parentFolder, name);\n      });\n    },\n    toggleUploadStatusOn() {\n      if (this.hideUploadStatusTimeout)\n        window.clearTimeout(this.hideUploadStatusTimeout);\n      this.showUploadStatus = true;\n    },\n    toggleUploadStatusOff() {\n      if (this.hideUploadStatusTimeout)\n        window.clearTimeout(this.hideUploadStatusTimeout);\n      this.showUploadStatus = false;\n    },\n    hideUploadStatus() {\n      this.hideUploadStatusTimeout = window.setTimeout(\n        this.toggleUploadStatusOff,\n        5000\n      );\n    },\n    toggleUpload() {\n      this.showUpload = !this.showUpload;\n      this.showMedias = !this.showUpload;\n    },\n    toggleDetailsOn(file) {\n      this.file = file;\n      this.showDetails = true;\n    },\n    toggleDetailsOff() {\n      this.file = {};\n      this.showDetails = false;\n    },\n    checkFile(file) {\n      if (!this.options.accept) {\n        return true;\n      } else if (this.options.accept instanceof Function) {\n        return this.options.accept(file);\n      } else {\n        var types = [];\n        if (typeof this.options.accept === \"string\") {\n          types = [this.options.accept];\n        } else if (Array.isArray(this.options.accept)) {\n          types = this.options.accept;\n        }\n        for (var t in types) {\n          var type = types[t];\n          var re = new RegExp(\n            \"^\" + type.replace(\"*\", \".*\").replace(\"/\", \"\\\\/\") + \"$\",\n            \"i\"\n          );\n          if (re.test(file.mime)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    },\n    /**\n     * FA icon class helper\n     */\n    faIconClass(file) {\n      return FaIconClassHelper.getFaIconClass(file);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.mm {\n  position: relative;\n  .animated {\n    animation-duration: 0.4s;\n  }\n\n  .breadcrumb {\n    padding-left: 0;\n    margin-bottom: 0.5em;\n    li {\n      display: inline-block;\n\n      &:not(:last-child)::after {\n        display: inline-block;\n        padding: 0 0.5em;\n        content: \">\";\n      }\n    }\n  }\n}\n\n.mm-fixed-height {\n  > .panel {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: 0;\n\n    > .panel-body {\n      position: absolute;\n      top: 0; //47px;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      overflow: auto;\n    }\n  }\n\n  .mm-content {\n    // position: relative;\n    min-height: 250px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediaManager.vue","<template>\n\n    <div class=\"upload-widget\">\n\n        <template v-if=\"advancedUpload\">\n\n            <div class=\"upload-drop-zone\" v-bind:class=\"{ 'drag-over': dragOver }\">\n                <form\n                    method=\"post\"\n                    enctype=\"multipart/form-data\"\n                    v-on:dragover.prevent=\"dragOver=true\"\n                    v-on:dragenter.prevent=\"dragOver=true\"\n                    v-on:dragleave.prevent=\"dragOver=false\"\n                    v-on:dragend.prevent=\"dragOver=false\"\n                    v-on:drop.prevent=\"onDrop\"\n                    v-on:submit.prevent=\"onSubmit\"\n                    class=\"animated fadeIn\"\n                    ref=\"form\"\n                >\n                    <svg class=\"upload-widget-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"43\" viewBox=\"0 0 50 43\"><path d=\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"/></svg>\n                    <label v-bind:for=\"fileInputId\"><strong>Scegli un file</strong>&nbsp;<span>o trascinalo qui</span>.</label>\n                    <input v-on:change=\"onSubmit\" v-bind:id=\"fileInputId\" ref=\"fileInput\" type=\"file\" name=\"files[]\" multiple />\n                </form>\n            </div>\n\n        </template>\n        <template v-else>\n\n            <div class=\"alert alert-warning\">Your browser does not support drag & drop file upload.</div>\n\n        </template>\n\n    </div>\n\n</template>\n\n<script>\n/* global toastr */\nimport { mapState } from 'vuex';\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            advancedUpload: false,\n            loading: false,\n            dragOver: false,\n            errors: []\n        };\n    },\n    props: ['path'],\n    computed: {\n        mmc() {\n          return this.$parent;\n        },\n        api () {\n            return this.mmc.api;\n        },\n        fileInputId() {\n            return this.mmc.id+'-file-input';\n        }\n    },\n    mounted() {\n        this.advancedUpload = this.isAdvancedUpload();\n    },\n    methods: {\n        /**\n         * check drag&drop support\n         */\n        isAdvancedUpload() {\n            let div = document.createElement('div');\n            return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div))\n                && 'FormData' in window && 'FileReader' in window;\n        },\n        /**\n         * drop handler\n         */\n        onDrop(e) {\n            this.dragOver = false;\n            this.files = [];\n            this.mmc.uploads = [];\n            //console.log(e.dataTransfer.files);\n            if (e.dataTransfer.files) {\n                if (e.dataTransfer.files.length>0) {\n                    this.files = e.dataTransfer.files;\n                    this.submit();\n                } else {\n                    toastr.error('Empty file list.', 'Error');\n                }\n            } else {\n                toastr.error('Drop error.', 'Error');\n            }\n        },\n        /**\n         * submit handler\n         */\n        onSubmit() {\n            if (this.$refs.fileInput.files) {\n                this.files = this.$refs.fileInput.files;\n                this.submit();\n                this.$refs.form.reset();\n            }\n        },\n        /**\n         * submit files\n         */\n        submit() {\n            if (this.loading) return;\n            this.loading = true;\n            this.errors = [];\n\n            this.mmc.uploads = [];\n            this.mmc.toggleUploadStatusOn();\n\n            let requests = [];\n            for (let i=0;i<this.files.length;i++) {\n                let file = this.files[i];\n                file.index = i;\n                let upload = { name: file.name, type: file.type, loaded: 0, total: Math.max(100, file.size), success: false, error: false, path: this.path };\n                this.mmc.uploads.push(upload);\n                if (file.type) {\n                    requests.push(this.buildRequest(file, upload));\n                } else {\n                    upload.loaded = upload.total;\n                    upload.error = 'Invalid file.';\n                }\n            }\n\n            if (requests.length) {\n                axios.all(requests).then(axios.spread(() => {\n                    if (this.errors.length == 0) {\n                        this.$emit('upload-success');\n                    } else {\n                        this.$emit('upload-error', this.errors);\n                    }\n                    this.loading = false;\n                }));\n            } else {\n                this.loading = false;\n            }\n        },\n        /**\n         * build axios request\n         */\n        buildRequest(file, upload) {\n            if(file.type.indexOf(\"image/\") != -1) {\n                let reader = new FileReader();\n                reader.onload = function(e) {\n                    upload.thumb = e.target.result;\n                }\n                reader.readAsDataURL(file);\n            }\n\n            let formData = new FormData();\n            formData.append('path', this.path);\n            formData.append('file', file);\n\n            return this.api.upload(formData, {\n                onUploadProgress: progressEvent => {\n                   upload.loaded = progressEvent.loaded;\n                   upload.total = progressEvent.total;\n                }\n            }, upload).then(response => {\n                upload.success = true;\n            }, error => {\n                if (error.response && error.response.data && Array.isArray(error.response.data)) {\n                    let errors = error.response.data, message = '';\n                    for (let i=0;i<errors.length;i++) {\n                        this.errors.push(errors[i]);\n                        if (errors[i].message)\n                            message+= errors[i].message;\n                    }\n                    upload.error = message;\n                } else {\n                    this.errors.push({ message: error });\n                    upload.error = error;\n                }\n            });\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.upload-widget {\n}\n.upload-drop-zone {\n    background-color: #f8f8f8;\n    outline: 1px dashed #ccc;\n    padding: 20px;\n    margin-bottom: 15px;\n    outline-offset: -10px;\n    transition: all 0.4s;\n\n    &.drag-over {\n        background-color: #eee;\n        outline-color: #000;\n        .upload-widget-icon {\n            opacity: 1;\n        }\n    }\n\n    form {\n        text-align: center;\n    }\n\n    label {\n        align-items: flex-end;\n        cursor: pointer;\n        display: flex;\n        font-size: 1.2em;\n        font-weight: bold;\n        height: 100%;\n        justify-content: center;\n        left: 0;\n        padding-bottom: 14px;\n        position: absolute;\n        top: 0;\n        width: 100%;\n\n        span {\n            font-weight: normal;\n        }\n    }\n\n    input[type=\"file\"] {\n        display: none;\n    }\n}\n\n.upload-widget-icon {\n    margin: 0 auto;\n    opacity: 0.2;\n    transition: opacity 0.4s;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UploadWidget.vue","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 6\n// module chunks = 0","<template>\n\n    <div class=\"upload-status-widget panel-modal\">\n        <div class=\"panel panel-default\">\n            <div class=\"panel-heading\">\n                Upload Status\n                <button v-on:click=\"onClose\" type=\"button\" class=\"close\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <div class=\"panel-body\">\n                <div class=\"table-responsive\">\n                    <table class=\"table table-bordered\">\n                        <tbody>\n                            <tr v-for=\"(upload, index) in uploads\">\n                                <th v-html=\"$options.filters.truncate(upload.name)\"></th>\n                                <td>\n                                    <div class=\"progress\" v-bind:key=\"index\">\n                                        <div\n                                            v-bind:class=\"{ 'progress-bar-success': upload.success, 'progress-bar-danger': upload.error }\"\n                                            v-bind:style=\"'width: '+uploadPercent(upload)+'%;'\"\n                                            v-bind:aria-valuenow=\"uploadPercent(upload)\"\n                                            class=\"progress-bar\"\n                                            role=\"progressbar\"\n                                            aria-valuemin=\"0\"\n                                            aria-valuemax=\"100\"\n                                        >\n                                            <template v-if=\"upload.success\">File has been uploaded.</template>\n                                            <template v-else-if=\"upload.error\">{{ upload.error }}</template>\n                                            <template v-else>{{ uploadPercent(upload) }} %</template>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nexport default {\n    components: {},\n    props: [ 'uploads' ],\n    computed: {\n        mmc() {\n          return this.$parent;\n        },\n        completed() {\n            let upload;\n            for (let i=0;i<this.uploads.length;i++) {\n                upload = this.uploads[i];\n                if (upload.loaded<upload.total && !upload.error)\n                    return false;\n            }\n            return true;\n        }\n    },\n    methods: {\n        onClose() {\n            if (this.completed)\n                this.mmc.toggleUploadStatusOff();\n        },\n        uploadPercent(upload) {\n            return Math.round(upload.loaded / upload.total * 100);\n        }\n    },\n    filters: {\n        truncate(value, max) {\n            max = max || 25;\n            return (value.length > max) ? value.substr(0, max) + '&hellip;' : value;\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.upload-status-widget {\n    .table-responsive {\n        margin-bottom: 15px;\n    }\n    table {\n        font-size: 12px;\n        margin-bottom: 0;\n    }\n    .progress {\n        width:100%;\n        min-width:150px;\n        margin-bottom: 0;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UploadStatusWidget.vue","<template>\n\n    <div class=\"medias-widget clearfix\">\n\n        <template v-if=\"error\">\n\n            <div class=\"alert alert-warning animated fadeIn\">\n                {{ error }}\n                <p><button v-on:click.prevent=\"refresh()\" class=\"btn btn-primary\"><i class=\"fa fa-fw fa-refresh\"></i> Click here to retry</button></p>\n            </div>\n\n        </template>\n        <template v-else>\n\n            <!--<div v-if=\"!loading && files.length==0\" class=\"alert alert-info animated fadeIn\">-->\n            <!--    This folder is empty.-->\n            <!--</div>-->\n\n            <div class=\"medias clearfix\">\n                <template v-if=\"loading\">\n\n                    <div class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fa fa-fw fa-spin fa-sync\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                </template>\n                <template v-else>\n\n                    <div v-if=\"relPath\" v-on:click=\"browse(pathUp)\" class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fa fa-fw fa-backward\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div v-if=\"canCreateFolder && !loading\" v-on:click=\"createFolder()\" class=\"file animated fadeIn\">\n                        <div class=\"file-preview\">\n                            <div class=\"icon\">\n                                <i class=\"fas fa-fw fa-folder-plus\"></i>\n                            </div>\n                        </div>\n                    </div>\n\n                    <media-widget\n                        v-for=\"file in files\"\n                        v-on:click.native=\"onMediaClick(file)\"\n                        v-on:contextmenu.native.prevent=\"onContextMenu(file, $event)\"\n                        v-bind:file=\"file\"\n                        v-bind:key=\"file.path\"\n                        class=\"animated fadeIn\"\n                        v-bind:class=\"{ invalid: file.type !== 'dir' && !mmc.checkFile(file) }\"\n                    ></media-widget>\n\n                </template>\n            </div>\n\n            <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"animated fadeOut\">\n                <div v-if=\"showContextMenu\" class=\"context-menu\" v-bind:style=\"contextMenuStyle\">\n                    <ul v-if=\"contextMenuFile.type=='dir'\">\n                        <li><a v-on:click.prevent=\"onMediaClick(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> Open</a></li>\n                        <!-- <li><a v-on:click.prevent=\"mmc.toggleDetailsOn(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-info-circle\"></i> Details</a></li> -->\n                    </ul>\n                    <ul v-else>\n                        <li v-if=\"mmc.isSelected(contextMenuFile)\"><a v-on:click.prevent=\"mmc.unselectFile(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-times\"></i> Unselect</a></li>\n                        <li v-else><a v-on:click.prevent=\"mmc.selectFile(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-check\"></i> Select</a></li>\n                        <!-- <li><a v-on:click.prevent=\"mmc.toggleDetailsOn(contextMenuFile)\" href=\"#\"><i class=\"fa fa-fw fa-info-circle\"></i> Details</a></li> -->\n                        <!-- <li v-if=\"api.downloadUrl(contextMenuFile)\" ><a v-bind:href=\"api.downloadUrl(contextMenuFile)\"><i class=\"fa fa-fw fa-download\"></i> Download</a></li> -->\n                    </ul>\n                </div>\n            </transition>\n\n        </template>\n\n    </div>\n\n</template>\n\n<script>\n/* global $ */\nimport { mapState } from 'vuex';\nimport MediaWidget from './MediaWidget.vue';\n\nexport default {\n    components: { MediaWidget },\n    data() {\n        return {\n            files: [],\n            loading: false,\n            error: false,\n            contextMenuFile: {},\n            contextMenuX: 0,\n            contextMenuY: 0,\n            showContextMenu: false\n        };\n    },\n    props: [ 'path' ],\n    computed: {\n        ...mapState({\n            basePath: state => state.options.basePath\n        }),\n        mmc() {\n            return this.$parent;\n        },\n        api () {\n            return this.mmc.api;\n        },\n        relPath() {\n            return this.path.replace(this.basePath, '');\n        },\n        canCreateFolder() {\n            return this.mmc.options.api.createFolderUrl;\n        },\n        pathUp() {\n            let path = '', index = this.relPath.lastIndexOf('/');\n            if (index>-1) {\n                path = this.relPath.slice(0, index);\n            }\n            return this.basePath + path;\n        },\n        contextMenuStyle() {\n            return 'left: '+this.contextMenuX+'px; top:'+this.contextMenuY+'px;';\n        }\n    },\n    watch: {\n        path: function() {\n            this.refresh();\n        }\n    },\n    mounted() {\n        this.refresh();\n\n        this.$on(\"fileDeleted\", file => {\n            var pos = this.files.indexOf(file);\n            if(pos !== -1) {\n                this.files.splice(pos, 1);\n            }\n        });\n\n        this.$on(\"fileRenamed\", (file, newFile) => {\n            Object.assign(file, newFile);\n        });\n    },\n    destroyed() {\n        this.$off(\"fileDeleted\");\n        this.$off(\"fileRenamed\");\n    },\n    methods: {\n        createFolder() {\n            this.mmc.createFolderIn(this.path).then(() => {\n                this.refresh();\n            }, () => {});\n        },\n        refresh() {\n            this.loading = true;\n            this.error = false;\n\n            this.api.list(this.path)\n                .then(response => {\n                    if (Array.isArray(response.data)) {\n                        response.data.sort((a, b) => {\n                            let as = a.type +'/'+ a.basename,\n                                bs = b.type +'/'+ b.basename;\n                            return as.localeCompare(bs)\n                        });\n                        this.files = response.data;\n                    }\n                    this.loading = false;\n                }, error => {\n                    // TODO\n                    this.error = error.toString();\n                    this.files = [];\n                    this.loading = false;\n                });\n        },\n        browse(path) {\n            this.mmc.path = path;\n        },\n\n        onMediaClick(file) {\n            if (file.type=='dir') {\n                this.browse(file.path);\n            } else {\n                let mmc = this.mmc;\n                if (mmc.isSelected(file)) {\n                    mmc.unselectFile(file);\n                } else {\n                    if(mmc.checkFile(file)) {\n                        mmc.selectFile(file);\n                    }\n                }\n            }\n        },\n\n        onDocumentClick(e) {\n            this.toggleContextMenuOff();\n        },\n        onContextMenu(file, e) {\n            let clientRect = this.mmc.$el.getBoundingClientRect();\n            this.contextMenuFile = file;\n            this.contextMenuX = e.clientX - clientRect.left;\n            this.contextMenuY = e.clientY - clientRect.top;\n            this.toggleContextMenuOn();\n        },\n        toggleContextMenuOn() {\n            this.showContextMenu = true;\n            document.addEventListener('click', this.onDocumentClick);\n        },\n        toggleContextMenuOff() {\n            this.contextMenuFile = {};\n            this.contextMenuX = 0;\n            this.contextMenuY = 0;\n            this.showContextMenu = false;\n            document.removeEventListener('click', this.onDocumentClick);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n$filesMargin: 5px;\n\n.medias {\n    margin: (-$filesMargin) (-$filesMargin) 15px (-$filesMargin);\n    .file {\n        margin: $filesMargin;\n    }\n}\n\n.context-menu {\n    position: absolute;\n    background-color: #fff;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.5);\n    z-index: 100;\n\n    ul {\n        padding-left: 0;\n        margin-bottom: 0;\n        list-style: none;\n    }\n\n    li {\n        display: block;\n        a {\n            display: block;\n            padding: 6px 15px;\n            font-weight: normal;\n            color: #333;\n            text-decoration: none;\n            white-space: nowrap;\n            &:hover {\n                background-color: #eee;\n            }\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediasWidget.vue","<template>\n\n    <div class=\"file\" v-bind:class=\"{ selected: selected }\">\n\n        <div class=\"file-preview\">\n\n            <template v-if=\"file.thumb\">\n                <img v-bind:src=\"file.thumb\" class=\"thumb\">\n            </template>\n\n            <template v-else-if=\"file.type=='dir'\">\n                <div class=\"icon\">\n                    <i class=\"fa fa-fw fa-folder\"></i>\n                </div>\n            </template>\n\n            <template v-else>\n                <div class=\"icon\">\n                    <i v-bind:class=\"mmc.faIconClass(file)\"></i>\n                </div>\n            </template>\n\n        </div>\n\n        <!-- <div v-if=\"file.type!='dir'\" class=\"file-actions\">-->\n        <!--    <div class=\"btn-group btn-group-xs\" role=\"group\">-->\n        <!--        <button v-if=\"isSelected\" v-on:click.stop=\"onUnselect\" class=\"btn btn-default\"><i class=\"fa fa-fw fa-check-square-o\"></i></button>-->\n        <!--        <button v-else v-on:click.stop=\"onSelect\" class=\"btn btn-default\"><i class=\"fa fa-fw fa-square-o\"></i></button>-->\n        <!--        <button class=\"btn btn-default\"><i class=\"fa fa-fw fa-search-plus\"></i></button>-->\n        <!--    </div>-->\n        <!-- </div>-->\n\n        <div class=\"file-title\">\n            <h3>{{ file.basename }}</h3>\n        </div>\n\n        <div class=\"top right actions\" v-if=\"canDelete\">\n            <button class=\"btn btn-default\" @click.stop=\"deleteFile(file)\"><i class=\"fa fa-fw fa-trash\"></i></button>\n        </div>\n\n        <div class=\"top left actions\" v-if=\"canRename\">\n            <button class=\"btn btn-default\" @click.stop=\"renameFile(file)\"><i class=\"fa fa-fw fa-pencil\"></i></button>\n        </div>\n    </div>\n\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n    props: [ 'file' ],\n    computed: {\n        mmc() {\n            return this.$parent.$parent;\n        },\n        selected() {\n            return this.mmc.isSelected(this.file);\n        },\n        canDelete() {\n            return this.mmc.options.api.deleteUrl;\n        },\n        canRename() {\n            return this.mmc.options.api.renameUrl;\n        }\n    },\n    methods: {\n        deleteFile(file) {\n            this.mmc.deleteFile(file);\n        },\n        renameFile(file) {\n            this.mmc.renameFile(file);\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n$fileWidth: 70px;\n$fileBorderWidth: 2px;\n$filePreviewHeight: 60px;\n$filePreviewPadding: 4px;\n$filePreviewDiff: 2*($fileBorderWidth+$filePreviewPadding);\n$filePreviewIconHeight: $filePreviewHeight - $filePreviewDiff;\n$fileTitleHeight: 20px;\n$fileHeight: $filePreviewHeight + $fileTitleHeight;\n$fileBorderColor: #eee;\n$fileBorderColorH: #333;\n\n$actionsRadius: 5px;\n\n.file {\n    position: relative;\n    float: left;\n    width: $fileWidth;\n    height: $fileHeight;\n    cursor: pointer;\n    border: $fileBorderWidth solid $fileBorderColor;\n    transition: border-color 0.4s;\n    overflow: hidden;\n\n    &.invalid {\n        cursor: default;\n\n        .file-preview, .file-title {\n            opacity: 0.2;\n        }\n    }\n\n    .actions {\n        position: absolute;\n        background-color: white;\n        background-color: rgba(255, 255, 255, 0.5);\n        padding: 5px;\n\n        button {\n            outline: none;\n            cursor: pointer;\n        }\n    }\n\n    .top {\n        top: 0;\n\n        &.right {\n            border-bottom-left-radius: $actionsRadius;\n        }\n\n        &.left {\n            border-bottom-right-radius: $actionsRadius;\n        }\n    }\n\n    .bottom {\n        bottom: 0;\n\n        &.right {\n            border-top-left-radius: $actionsRadius;\n        }\n\n        &.left {\n            border-top-right-radius: $actionsRadius;\n        }\n    }\n\n    .left {\n        left: 0;\n    }\n\n    .right {\n        right: 0;\n    }\n}\n\n.file-preview {\n    padding: 4px;\n    .thumb {\n        width: 100%;\n        margin-top: -(($fileWidth - $filePreviewHeight)/2);\n    }\n    .icon {\n        text-align: center;\n        line-height: $filePreviewIconHeight;\n        font-size: ($filePreviewIconHeight) / 1.3;\n        .fa, .fas, .fad {\n            vertical-align: middle;\n        }\n    }\n}\n\n.file-no-title {\n    .icon {\n        line-height: $fileHeight - $filePreviewDiff;\n    }\n}\n\n/*\n.file-actions {\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    text-align: center;\n    margin-top: 10px;\n}\n\n.file:hover, .file:focus, .file.selected {\n    .file-actions {\n        display: block;\n    }\n}\n*/\n\n.file-title {\n    position: absolute;\n    height: 20px;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    overflow: hidden;\n    background-color: $fileBorderColor;\n    transition: background-color 0.4s;\n\n    h3 {\n        color: #000;\n        margin: 0 4px;\n        line-height: $fileTitleHeight;\n        font-size: $fileTitleHeight/2;\n        transition: color 0.4s;\n    }\n}\n\n.file.selected {\n    border-color: $fileBorderColorH;\n    .file-title {\n        background-color: $fileBorderColorH;\n        h3 {\n            color: #fff;\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MediaWidget.vue","<template>\n\n    <div class=\"details-widget panel-modal\">\n        <div class=\"panel panel-default\">\n\n            <div class=\"panel-heading\">\n                Media Details\n                <button v-on:click=\"onClose\" type=\"button\" class=\"close\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n\n            <div class=\"details-widget-content panel-body\">\n                <table class=\"table table-bordered\">\n                    <tbody>\n                        <tr>\n                            <td rowspan=\"4\" style=\"text-align: center;\">\n                                <img v-if=\"file.thumb\" v-bind:src=\"file.thumb\" class=\"thumb\">\n                                <div v-else class=\"icon\">\n                                    <i v-bind:class=\"mmc.faIconClass(file)\"></i>\n                                </div>\n                            </td>\n                            <th>Name</th>\n                            <td>{{ file.basename }}</td>\n                        </tr>\n                        <tr>\n                            <th>Path</th>\n                            <td>{{ file.path }}</td>\n                        </tr>\n                        <tr v-if=\"file.timestamp\">\n                            <th>Date</th>\n                            <td>{{ file.timestamp }}</td>\n                        </tr>\n                        <tr v-if=\"file.size\">\n                            <th>Size</th>\n                            <td>{{ file.size }}</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <p class=\"buttons\">\n                    <button v-on:click.prevent=\"onClose\" class=\"btn btn-default btn-sm\" role=\"button\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> Close</button>\n                    <template v-if=\"file.type!='dir'\">\n                        <a v-if=\"api.downloadUrl(file)\" v-bind:href=\"api.downloadUrl(file)\" class=\"btn btn-primary btn-sm\" role=\"button\"><i class=\"fa fa-download\" aria-hidden=\"true\"></i> Download</a>\n                        <button v-if=\"mmc.isSelected(file)\" v-on:click.prevent=\"onUnselect\"class=\"btn btn-primary btn-sm\" role=\"button\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i> Unselect</button>\n                        <button v-else v-on:click.prevent=\"onSelect\"class=\"btn btn-primary btn-sm\" role=\"button\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i> Select</button>\n                    </template>\n                </p>\n            </div>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n    props: [ 'file' ],\n    computed: {\n        ...mapState({\n            options: state => state.options\n        }),\n        mmc() {\n            return this.$parent;\n        },\n        api () {\n            return this.mmc.api;\n        }\n    },\n    methods: {\n        onSelect() {\n            this.mmc.selectFile(this.file);\n            this.mmc.toggleDetailsOff();\n        },\n        onUnselect() {\n            this.mmc.unselectFile(this.file);\n            this.mmc.toggleDetailsOff();\n        },\n        onClose() {\n            this.mmc.toggleDetailsOff();\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n.details-widget-content {\n    .thumb {\n        max-height: 100px;\n    }\n    .icon {\n        line-height: 100px;\n        font-size: 50px;\n    }\n    .buttons {\n        text-align: right;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/DetailsWidget.vue","<template>\n\n    <div class=\"notification-widget\">\n    </div>\n\n</template>\n\n<script>\nexport default {\n    components: {},\n    data() {\n        return {\n        };\n    },\n    props: [],\n    computed: {\n    },\n    watch: {\n    },\n    created() {\n    },\n    mounted() {\n    },\n    methods: {\n    }\n};\n</script>        \n\n<style lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NotificationWidget.vue","import 'es6-promise/auto';\nimport Vue from 'vue';\nimport App from './components/App.vue';\n\n/**\n * Media Manager\n */\nexport class MM {\n\n    static install (vue, options) {\n        vue.component('vue-media-manager', App)\n    }\n\n    constructor(opts) {\n        this.options = opts;\n        this.init();\n    }\n\n    init() {\n        /*\n         * Init Vue\n         */\n        let el = document.querySelector(this.options.el);\n        this.vm = new Vue({\n            el: this.options.el,\n            render: h => h(App, {\n                props: {\n                    id: el.id,\n                    opts: this.options\n                }\n            })\n        });\n    }\n\n    destroy() {\n        this.vm.$destroy();\n        this.vm.$el.innerHTML = '';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"es6-promise/auto\"\n// module id = 13\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ffe50492\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../assets/css/style.scss\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ffe50492\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 14\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-883b0058\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaManager.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaManager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-883b0058\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaManager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediaManager.vue\n// module id = 16\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0652b78f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UploadWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0652b78f\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UploadWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UploadWidget.vue\n// module id = 18\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-widget\"},[(_vm.advancedUpload)?[_c('div',{staticClass:\"upload-drop-zone\",class:{ 'drag-over': _vm.dragOver }},[_c('form',{ref:\"form\",staticClass:\"animated fadeIn\",attrs:{\"method\":\"post\",\"enctype\":\"multipart/form-data\"},on:{\"dragover\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragenter\":function($event){$event.preventDefault();_vm.dragOver=true},\"dragleave\":function($event){$event.preventDefault();_vm.dragOver=false},\"dragend\":function($event){$event.preventDefault();_vm.dragOver=false},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)},\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('svg',{staticClass:\"upload-widget-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"50\",\"height\":\"43\",\"viewBox\":\"0 0 50 43\"}},[_c('path',{attrs:{\"d\":\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"}})]),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.fileInputId}},[_c('strong',[_vm._v(\"Scegli un file\")]),_vm._v(\" \"),_c('span',[_vm._v(\"o trascinalo qui\")]),_vm._v(\".\")]),_vm._v(\" \"),_c('input',{ref:\"fileInput\",attrs:{\"id\":_vm.fileInputId,\"type\":\"file\",\"name\":\"files[]\",\"multiple\":\"\"},on:{\"change\":_vm.onSubmit}})])])]:[_c('div',{staticClass:\"alert alert-warning\"},[_vm._v(\"Your browser does not support drag & drop file upload.\")])]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0652b78f\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UploadWidget.vue\n// module id = 20\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d758cc6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UploadStatusWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadStatusWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UploadStatusWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d758cc6\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UploadStatusWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UploadStatusWidget.vue\n// module id = 21\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-status-widget panel-modal\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\"\\n            Upload Status\\n            \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.onClose}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"panel-body\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered\"},[_c('tbody',_vm._l((_vm.uploads),function(upload,index){return _c('tr',[_c('th',{domProps:{\"innerHTML\":_vm._s(_vm.$options.filters.truncate(upload.name))}}),_vm._v(\" \"),_c('td',[_c('div',{key:index,staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar\",class:{ 'progress-bar-success': upload.success, 'progress-bar-danger': upload.error },style:('width: '+_vm.uploadPercent(upload)+'%;'),attrs:{\"aria-valuenow\":_vm.uploadPercent(upload),\"role\":\"progressbar\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}},[(upload.success)?[_vm._v(\"File has been uploaded.\")]:(upload.error)?[_vm._v(_vm._s(upload.error))]:[_vm._v(_vm._s(_vm.uploadPercent(upload))+\" %\")]],2)])])])}),0)])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9d758cc6\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UploadStatusWidget.vue\n// module id = 23\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f98cc6c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediasWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediasWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediasWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f98cc6c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediasWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediasWidget.vue\n// module id = 24\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09d370fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MediaWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MediaWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09d370fe\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MediaWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MediaWidget.vue\n// module id = 26\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file\",class:{ selected: _vm.selected }},[_c('div',{staticClass:\"file-preview\"},[(_vm.file.thumb)?[_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}})]:(_vm.file.type=='dir')?[_vm._m(0)]:[_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]],2),_vm._v(\" \"),_c('div',{staticClass:\"file-title\"},[_c('h3',[_vm._v(_vm._s(_vm.file.basename))])]),_vm._v(\" \"),(_vm.canDelete)?_c('div',{staticClass:\"top right actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-trash\"})])]):_vm._e(),_vm._v(\" \"),(_vm.canRename)?_c('div',{staticClass:\"top left actions\"},[_c('button',{staticClass:\"btn btn-default\",on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile(_vm.file)}}},[_c('i',{staticClass:\"fa fa-fw fa-pencil\"})])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-folder\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09d370fe\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediaWidget.vue\n// module id = 28\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"medias-widget clearfix\"},[(_vm.error)?[_c('div',{staticClass:\"alert alert-warning animated fadeIn\"},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n            \"),_c('p',[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.refresh()}}},[_c('i',{staticClass:\"fa fa-fw fa-refresh\"}),_vm._v(\" Click here to retry\")])])])]:[_c('div',{staticClass:\"medias clearfix\"},[(_vm.loading)?[_vm._m(0)]:[(_vm.relPath)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.browse(_vm.pathUp)}}},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),(_vm.canCreateFolder && !_vm.loading)?_c('div',{staticClass:\"file animated fadeIn\",on:{\"click\":function($event){return _vm.createFolder()}}},[_vm._m(2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.files),function(file){return _c('media-widget',{key:file.path,staticClass:\"animated fadeIn\",class:{ invalid: file.type !== 'dir' && !_vm.mmc.checkFile(file) },attrs:{\"file\":file},nativeOn:{\"click\":function($event){return _vm.onMediaClick(file)},\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextMenu(file, $event)}}})})]],2),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showContextMenu)?_c('div',{staticClass:\"context-menu\",style:(_vm.contextMenuStyle)},[(_vm.contextMenuFile.type=='dir')?_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onMediaClick(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-folder-open\"}),_vm._v(\" Open\")])])]):_c('ul',[(_vm.mmc.isSelected(_vm.contextMenuFile))?_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.unselectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-times\"}),_vm._v(\" Unselect\")])]):_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.mmc.selectFile(_vm.contextMenuFile)}}},[_c('i',{staticClass:\"fa fa-fw fa-check\"}),_vm._v(\" Select\")])])])]):_vm._e()])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file animated fadeIn\"},[_c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-spin fa-sync\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fa fa-fw fa-backward\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-preview\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-fw fa-folder-plus\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f98cc6c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediasWidget.vue\n// module id = 29\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-358738cd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DetailsWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DetailsWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DetailsWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-358738cd\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DetailsWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DetailsWidget.vue\n// module id = 30\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details-widget panel-modal\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_vm._v(\"\\n            Media Details\\n            \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.onClose}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"details-widget-content panel-body\"},[_c('table',{staticClass:\"table table-bordered\"},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"center\"},attrs:{\"rowspan\":\"4\"}},[(_vm.file.thumb)?_c('img',{staticClass:\"thumb\",attrs:{\"src\":_vm.file.thumb}}):_c('div',{staticClass:\"icon\"},[_c('i',{class:_vm.mmc.faIconClass(_vm.file)})])]),_vm._v(\" \"),_c('th',[_vm._v(\"Name\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.basename))])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"Path\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.path))])]),_vm._v(\" \"),(_vm.file.timestamp)?_c('tr',[_c('th',[_vm._v(\"Date\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.timestamp))])]):_vm._e(),_vm._v(\" \"),(_vm.file.size)?_c('tr',[_c('th',[_vm._v(\"Size\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.file.size))])]):_vm._e()])]),_vm._v(\" \"),_c('p',{staticClass:\"buttons\"},[_c('button',{staticClass:\"btn btn-default btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose($event)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Close\")]),_vm._v(\" \"),(_vm.file.type!='dir')?[(_vm.api.downloadUrl(_vm.file))?_c('a',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"href\":_vm.api.downloadUrl(_vm.file),\"role\":\"button\"}},[_c('i',{staticClass:\"fa fa-download\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Download\")]):_vm._e(),_vm._v(\" \"),(_vm.mmc.isSelected(_vm.file))?_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onUnselect($event)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Unselect\")]):_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSelect($event)}}},[_c('i',{staticClass:\"fa fa-check\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Select\")])]:_vm._e()],2)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-358738cd\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DetailsWidget.vue\n// module id = 32\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6de0f4fd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NotificationWidget.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotificationWidget.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotificationWidget.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6de0f4fd\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NotificationWidget.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NotificationWidget.vue\n// module id = 33\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notification-widget\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6de0f4fd\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NotificationWidget.vue\n// module id = 35\n// module chunks = 0","const faIconMatchExtension = [\n    {\n        name: 'file-alt',\n        extensions: ['txt']\n    },\n    {\n        name: 'file-pdf',\n        extensions: ['pdf']\n    },\n    {\n        name: 'file-word',\n        extensions: ['doc', 'docx']\n    },\n    {\n        name: 'file-excel',\n        extensions: ['xls', 'xlsx']\n    },\n    {\n        name: 'file-powerpoint',\n        extensions: ['ppt', 'pptx']\n    },\n    {\n        name: 'file-code',\n        extensions: ['html', 'php', 'js', 'cs', 'java']\n    },\n    {\n        name: 'file-video',\n        extensions: ['avi', 'mpg', 'mpeg', 'mp4', 'mov']\n    },\n    {\n        name: 'file-audio',\n        extensions: ['mp3', 'wav', 'flac', 'ogg']\n    },\n    {\n        name: 'file-archive',\n        extensions: ['zip', 'rar', '7z', 'tar', 'gz', 'tgz']\n    },\n];\n\nexport default class FaIconClassHelper {\n    static getFaIconClass(file) {\n        let str = 'fa fa-fw fa-';\n        if (file.type == 'dir') {\n            return str + 'folder';\n        }\n        var matchingIcon =\n            faIconMatchExtension.find(\n                iconMatch => iconMatch.extensions.indexOf(file.extension) >= 0\n            )\n        if (matchingIcon) {\n            str += matchingIcon.name\n        } else {\n            str += 'file'\n        }\n\n        return str;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/FaIconClassHelper.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mm\",class:{ 'mm-fixed-height': _vm.options.height },style:(_vm.options.height ? 'height:'+_vm.options.height : '')},[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showDetails)?_c('details-widget',{key:\"details\",ref:\"details\",attrs:{\"file\":_vm.file}}):_vm._e()],1),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[(_vm.showUploadStatus)?_c('upload-status-widget',{key:\"details\",ref:\"details\",attrs:{\"uploads\":_vm.uploads}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-body\"},[_c('notification-widget'),_vm._v(\" \"),(_vm.options.showBreadcrumb)?_c('ol',{staticClass:\"breadcrumb\"},_vm._l((_vm.breadcrumb),function(item){return _c('li',{key:item.path},[_c('a',{attrs:{\"href\":\"#\"},domProps:{\"innerHTML\":_vm._s(item.label)},on:{\"click\":function($event){$event.preventDefault();_vm.path=item.path}}})])}),0):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mm-content\"},[(_vm.api.options.uploadUrl)?_c('upload-widget',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpload),expression:\"showUpload\"}],key:\"upload\",ref:\"upload\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path},on:{\"upload-success\":_vm.onUploadSuccess,\"upload-error\":_vm.onUploadError}}):_vm._e(),_vm._v(\" \"),_c('medias-widget',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMedias),expression:\"showMedias\"}],key:\"medias\",ref:\"medias\",staticClass:\"animated fadeIn\",attrs:{\"path\":_vm.path}})],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-883b0058\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MediaManager.vue\n// module id = 37\n// module chunks = 0","import axios from 'axios';\n\nexport default class Api {\n\n  static get defaultOptions() {\n    return {\n      baseUrl: null,\n      listUrl: null,\n      downloadUrl: null,\n      deleteUrl: null,\n      renameUrl: null,\n      createFolderUrl: null,\n      uploadUrl: null,\n      beforeUpload: null,\n      axiosOptions: {}\n    };\n  }\n\n  constructor(opts) {\n    this.options = { ...this.constructor.defaultOptions, ...opts };\n\n    if (this.options.baseUrl) {\n      this.options.axiosOptions.baseURL = this.options.baseUrl;\n    }\n\n    this.axios = axios.create(this.options.axiosOptions);\n  }\n\n  list(path) {\n    var conf = this.computeConfig({ params: { path: path } });\n    return this.axios.get(this.options.listUrl, conf);\n  }\n\n  upload(data, config, uploadFile) {\n    var conf = this.computeConfig(config);\n    var options = {\n      config: conf,\n      url: this.options.uploadUrl\n    };\n    let configured = Promise.resolve();\n    if (this.options.beforeUpload instanceof Function) {\n      configured = Promise.all([this.options.beforeUpload(options, data, uploadFile)]).then(a => a[0]);\n    }\n\n    return configured.then(() => {\n      return this.axios.post(options.url, data, options.config).then(res => {\n        if (this.options.afterUpload instanceof Function) {\n          return this.options.afterUpload(res, options, uploadFile);\n        } else {\n          return res;\n        }\n      });\n    });\n  }\n\n  delete(file) {\n    var conf = this.computeConfig({});\n    return this.axios.delete(this.deleteUrl(file), conf);\n  }\n\n  rename(file, name) {\n    var conf = this.computeConfig({});\n    return this.axios.patch(this.renameUrl(file), {\n      name: name\n    }, conf);\n  }\n\n  createFolderIn(parentFolder, name) {\n    var conf = this.computeConfig({});\n    return this.axios.post(this.createFolderUrl(parentFolder, name), {}, conf);\n  }\n\n  computeConfig(conf) {\n    if (!this.options.requestConfig) {\n      return conf\n    }\n    var overrideConf = this.options.requestConfig\n    if (overrideConf instanceof Function) {\n      overrideConf = overrideConf()\n    }\n    return { ...conf, ...overrideConf }\n  }\n\n  downloadUrl(file) {\n    return this.options.downloadUrl && this.options.downloadUrl + '?path=' + file.path;\n  }\n\n  deleteUrl(file) {\n    return this.options.deleteUrl && this.options.deleteUrl + '/' + file.path;\n  }\n\n  renameUrl(file) {\n    return this.options.renameUrl && this.options.deleteUrl + '/' + file.path;\n  }\n\n  createFolderUrl(parentFolder, name) {\n    return this.options.createFolderUrl && this.options.createFolderUrl + (parentFolder ? '/' + parentFolder : \"\") + '/' + name;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api.js","export default class Store {\n    static create(component, options) {\n        /*\n         * Init selected\n         */\n        let selected = options.selected;\n        if (selected) {\n            if (Array.isArray(selected)) {\n                selected = selected.map(function(e){\n                    if(typeof e === \"string\") {\n                        return { path: e };\n                    } else {\n                        return e;\n                    }\n                });\n            } else {\n                if(typeof selected === \"string\") {\n                    selected = { path: selected };\n                }\n            }\n        }\n\n        return {\n            state: {\n                mm: component,\n                options: options,\n                path: options.basePath + options.path,\n                selected: selected\n            },\n            mutations: {\n                resetSelected(state) {\n                    state.selected = null;\n                },\n                addSelected(state, file) {\n                    if (state.options.multipleSelection) {\n                        if (!Array.isArray(state.selected)) {\n                            state.selected = [];\n                        } else {\n                            let index = state.selected.findIndex(element => { return element.path === file.path; });\n                            if (index>-1) return;\n                        }\n                        state.selected.push(file);\n                    } else {\n                        state.selected = file;\n                    }\n                    state.selected = JSON.parse(JSON.stringify(state.selected));\n                    state.mm.onSelect({ selected: state.selected });\n                },\n                removeSelected(state, file) {\n                    if (state.options.multipleSelection) {\n                        if (!Array.isArray(state.selected)) return;\n                        let index = state.selected.findIndex(element => { return element.path === file.path; });\n                        if (index>-1) {\n                            state.selected.splice(index, 1);\n                        }\n                    } else {\n                        state.selected = null;\n                    }\n                    state.selected = JSON.parse(JSON.stringify(state.selected));\n                    state.mm.onSelect({ selected: state.selected });\n                },\n                renameSelected(state, { file, newFile }) {\n                  function patchInnerFile(item) {\n                    item.path = newFile.path + item.path.substr(file.path.length);\n                    let parentPath = item.path.substr(0, item.path.lastIndexOf(\"/\"));\n                    let slashPos = parentPath.lastIndexOf(\"/\");\n                    item.dirname = slashPos !== -1 ? parentPath.substr(slashPos + 1) : parentPath;\n\n                    if(item.fileURL) {\n                      item.fileURL = item.fileURL.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n                    }\n\n                    if(item.thumb) {\n                      item.thumb = item.thumb.replace(\"/\" + file.path + \"/\", \"/\" + newFile.path + \"/\");\n                    }\n                  }\n\n                  let renamed = false;\n                  if (state.options.multipleSelection) {\n                    if (!Array.isArray(state.selected)) return;\n                    let selectedItem = state.selected.find(i => i.path === file.path);\n                    if(selectedItem) {\n                      Object.assign(selectedItem, newFile);\n                      renamed = true;\n                    }\n\n                    if(file.type === \"dir\") {\n                      state.selected.filter(i => i.path.indexOf(file.path + \"/\") === 0).forEach(i => {\n                        patchInnerFile(i);\n                        renamed = true;\n                      })\n                    }\n                  } else {\n                    if(state.selected && state.selected.path === file.path) {\n                      state.selected = newFile;\n                      renamed = true;\n                    }\n\n                    if(file.type === \"dir\") {\n                      if(state.selected && state.selected.path.indexOf(file.path + \"/\") === 0) {\n                        patchInnerFile(state.selected);\n                        renamed = true;\n                      }\n                    }\n                  }\n                  if(renamed) {\n                    state.mm.onSelect({ selected: state.selected });\n                  }\n                }\n            },\n            getters: {\n                isSelected: (state, getters) => (file) => {\n                    //if (!state.options.input) return false;\n                    if (state.options.multipleSelection) {\n                        if (!Array.isArray(state.selected)) return false;\n                        let index = state.selected.findIndex(element => {\n                            return element.path === file.path;\n                        });\n                        return index > -1;\n                    } else {\n                        return (state.selected && state.selected.path === file.path) || false;\n                    }\n                },\n                nbSelected: (state, getters) => {\n                    if (Array.isArray(state.selected)) return state.selected.length;\n                    if (state.selected) return 1;\n                    return 0;\n                }\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Store.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media-manager\",attrs:{\"id\":_vm.id}},[_c('div',{ref:\"mediaManager\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ffe50492\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 40\n// module chunks = 0"],"sourceRoot":""}