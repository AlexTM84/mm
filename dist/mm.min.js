!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("es6-promise/auto"),require("vue"),require("vuex"),require("axios"));else if("function"==typeof define&&define.amd)define(["es6-promise/auto","vue","vuex","axios"],e);else{var n="object"==typeof exports?e(require("es6-promise/auto"),require("vue"),require("vuex"),require("axios")):e(t["es6-promise/auto"],t.vue,t.vuex,t.axios);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}("undefined"!=typeof self?self:this,function(t,e,n,i){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=12)}([function(t,e){t.exports=function(t,e,n,i,a,s){var r,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId=a);var u;if(s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=i),u){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:r,exports:o,options:c}}},function(t,e){t.exports=n},function(t,n){t.exports=e},function(t,e,n){"use strict";var i=n(2),a=n.n(i),s=n(1),r=n.n(s),o=n(16),l=n(38),c=n(39),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a.a.use(r.a);var f={basePath:"",path:"",api:{baseUrl:null,listUrl:null,downloadUrl:null,uploadUrl:null,options:{}},input:"",multipleSelection:!1,onCreated:null,onMounted:null,onSelect:null,showBreadcrumb:!0,height:null,vue:a.a,asVueComponent:!1,accept:""};e.a={components:{MediaManager:o.a},props:["id","opts"],data:function(){return{store$:null}},created:function(){this.options=u({},f,this.opts),this.api=new l.a(this.options.api),this.options.onCreated&&this.options.onCreated({vc:this}),this._input=null},computed:{overrideOptions:function(){return u({},f,this.options)},input:function(){return!this._input&&this.options.input&&(this._input=document.querySelector(this.options.input)),this._input}},methods:{onSelect:function(t){if(this.input)if(t.selected)if(this.options.multipleSelection){var e=t.selected.map(function(t){return t.path});this.input.value=e.join("\n")}else this.input.value=t.selected.path;else this.input.value="";this.options.onSelect&&this.options.onSelect(t)},select:function(t){this.store$.commit("addSelected",t)},deselect:function(t){this.store$.commit("removeSelected",t)}},mounted:function(){var t=this;this.options.onMounted&&this.options.onMounted({el:this.$el,vc:this});var e=new r.a.Store(c.a.create(this,this.options));this.store$=e;var n=this.$refs.mediaManager;new a.a({el:n,store:e,render:function(e){return e(o.a,{props:{id:t.id,api:t.api}})}})}}},function(t,e,n){"use strict";var i=n(1),a=(n.n(i),n(18)),s=n(21),r=n(24),o=n(30),l=n(33),c=n(36),u=function(){function t(t,e){var n=[],i=!0,a=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){a=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.a={props:["api","id"],components:{MediasWidget:r.a,UploadWidget:a.a,UploadStatusWidget:s.a,DetailsWidget:o.a,NotificationWidget:l.a},data:function(){return{path:this.$store.state.options.initialPath||this.$store.state.options.basePath,uploads:[],file:{},showUpload:!0,showUploadStatus:!1,showMedias:!0,showDetails:!1}},computed:f({},Object(i.mapState)({options:function(t){return t.options},basePath:function(t){return t.options.basePath}}),{relPath:function(){return this.path.replace(this.basePath,"")},breadcrumb:function(){var t=this.relPath.split("/"),e=[],n="";e.push({label:'<i class="fa fa-fw fa-home"></i>',path:this.basePath});for(var i=0;i<t.length;i++)t[i]&&(n+=t[i]+"/",e.push({label:t[i],path:this.basePath+n.replace(/\/$/,"")}));return e}}),created:function(){},methods:{onUploadSuccess:function(){this.hideUploadStatus(),this.$refs.medias.refresh()},onUploadError:function(t){this.hideUploadStatus(),this.$refs.medias.refresh()},onDetailsClose:function(){this.showDetails=!1,this.file={}},selectFile:function(t){this.$store.commit("addSelected",t)},unselectFile:function(t){this.$store.commit("removeSelected",t)},isSelected:function(t){return this.$store.getters.isSelected(t)},deleteFile:function(t){var e=this;if(this.options.api.deleteUrl){var n=void 0;n=this.options.confirmDeletion instanceof Function?this.options.confirmDeletion(t):window.confirm("Are you sure to remove file "+t.basename+"?")?Promise.resolve():Promise.reject(),n.then(function(){e.api.delete(t).then(function(){e.$store.commit("removeSelected",t),e.$refs.medias.$emit("fileDeleted",t)},function(n){e.options.onError instanceof Function&&e.options.onError(n,"delete",t)})},function(){})}},renameFile:function(t){var e=this,n=void 0;return this.options.api.renameUrl&&(this.options.askNewName instanceof Function?n=this.options.askNewName(t):(n=(window.prompt("Type the new name for "+t.basename,t.basename)||"").trim())||(n=Promise.reject())),Promise.all([n]).then(function(n){var i=u(n,1),a=i[0];return a!==t.basename?e.api.rename(t,a).then(function(n){var i=n.data;e.$store.commit("renameSelected",{file:t,newFile:i}),e.$refs.medias.$emit("fileRenamed",t,i)},function(n){return e.options.onError instanceof Function&&e.options.onError(n,"rename",t,a),Promise.reject(n)}):Promise.reject()})},createFolderIn:function(t){var e=this,n=void 0;return this.options.api.createFolderUrl&&(this.options.askFolderName instanceof Function?n=this.options.askFolderName(t):(n=window.prompt("Type the name of the new folder"))||(n=Promise.reject())),Promise.all([n]).then(function(n){var i=u(n,1),a=i[0];return e.api.createFolderIn(t,a)})},toggleUploadStatusOn:function(){this.hideUploadStatusTimeout&&window.clearTimeout(this.hideUploadStatusTimeout),this.showUploadStatus=!0},toggleUploadStatusOff:function(){this.hideUploadStatusTimeout&&window.clearTimeout(this.hideUploadStatusTimeout),this.showUploadStatus=!1},hideUploadStatus:function(){this.hideUploadStatusTimeout=window.setTimeout(this.toggleUploadStatusOff,5e3)},toggleUpload:function(){this.showUpload=!this.showUpload,this.showMedias=!this.showUpload},toggleDetailsOn:function(t){this.file=t,this.showDetails=!0},toggleDetailsOff:function(){this.file={},this.showDetails=!1},checkFile:function(t){if(this.options.accept){if(this.options.accept instanceof Function)return this.options.accept(t);var e=[];"string"==typeof this.options.accept?e=[this.options.accept]:Array.isArray(this.options.accept)&&(e=this.options.accept);for(var n in e){var i=e[n];if(new RegExp("^"+i.replace("*",".*").replace("/","\\/")+"$","i").test(t.mime))return!0}return!1}return!0},faIconClass:function(t){return c.a.getFaIconClass(t)}}}},function(t,e,n){"use strict";var i=n(1),a=(n.n(i),n(6)),s=n.n(a);e.a={data:function(){return{advancedUpload:!1,loading:!1,dragOver:!1,errors:[]}},props:["path"],computed:{mmc:function(){return this.$parent},api:function(){return this.mmc.api},fileInputId:function(){return this.mmc.id+"-file-input"}},mounted:function(){this.advancedUpload=this.isAdvancedUpload()},methods:{isAdvancedUpload:function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window},onDrop:function(t){this.dragOver=!1,this.files=[],this.mmc.uploads=[],t.dataTransfer.files?t.dataTransfer.files.length>0?(this.files=t.dataTransfer.files,this.submit()):toastr.error("Empty file list.","Error"):toastr.error("Drop error.","Error")},onSubmit:function(){this.$refs.fileInput.files&&(this.files=this.$refs.fileInput.files,this.submit(),this.$refs.form.reset())},submit:function(){var t=this;if(!this.loading){this.loading=!0,this.errors=[],this.mmc.uploads=[],this.mmc.toggleUploadStatusOn();for(var e=[],n=0;n<this.files.length;n++){var i=this.files[n];i.index=n;var a={name:i.name,type:i.type,loaded:0,total:Math.max(100,i.size),success:!1,error:!1,path:this.path};this.mmc.uploads.push(a),i.type?e.push(this.buildRequest(i,a)):(a.loaded=a.total,a.error="Invalid file.")}e.length?s.a.all(e).then(s.a.spread(function(){0==t.errors.length?t.$emit("upload-success"):t.$emit("upload-error",t.errors),t.loading=!1})):this.loading=!1}},buildRequest:function(t,e){var n=this;if(-1!=t.type.indexOf("image/")){var i=new FileReader;i.onload=function(t){e.thumb=t.target.result},i.readAsDataURL(t)}var a=new FormData;return a.append("path",this.path),a.append("file",t),this.api.upload(a,{onUploadProgress:function(t){e.loaded=t.loaded,e.total=t.total}},e).then(function(t){e.success=!0},function(t){if(t.response&&t.response.data&&Array.isArray(t.response.data)){for(var i=t.response.data,a="",s=0;s<i.length;s++)n.errors.push(i[s]),i[s].message&&(a+=i[s].message);e.error=a}else n.errors.push({message:t}),e.error=t})}}}},function(t,e){t.exports=i},function(t,e,n){"use strict";e.a={components:{},props:["uploads"],computed:{mmc:function(){return this.$parent},completed:function(){for(var t=void 0,e=0;e<this.uploads.length;e++)if(t=this.uploads[e],t.loaded<t.total&&!t.error)return!1;return!0}},methods:{onClose:function(){this.completed&&this.mmc.toggleUploadStatusOff()},uploadPercent:function(t){return Math.round(t.loaded/t.total*100)}},filters:{truncate:function(t,e){return e=e||25,t.length>e?t.substr(0,e)+"&hellip;":t}}}},function(t,e,n){"use strict";var i=n(1),a=(n.n(i),n(26)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.a={components:{MediaWidget:a.a},data:function(){return{files:[],loading:!1,error:!1,contextMenuFile:{},contextMenuX:0,contextMenuY:0,showContextMenu:!1}},props:["path"],computed:s({},Object(i.mapState)({basePath:function(t){return t.options.basePath}}),{mmc:function(){return this.$parent},api:function(){return this.mmc.api},relPath:function(){return this.path.replace(this.basePath,"")},canCreateFolder:function(){return this.mmc.options.api.createFolderUrl},pathUp:function(){var t="",e=this.relPath.lastIndexOf("/");return e>-1&&(t=this.relPath.slice(0,e)),this.basePath+t},contextMenuStyle:function(){return"left: "+this.contextMenuX+"px; top:"+this.contextMenuY+"px;"}}),watch:{path:function(){this.refresh()}},mounted:function(){var t=this;this.refresh(),this.$on("fileDeleted",function(e){var n=t.files.indexOf(e);-1!==n&&t.files.splice(n,1)}),this.$on("fileRenamed",function(t,e){Object.assign(t,e)})},destroyed:function(){this.$off("fileDeleted"),this.$off("fileRenamed")},methods:{createFolder:function(){var t=this;this.mmc.createFolderIn(this.path).then(function(){t.refresh()},function(){})},refresh:function(){var t=this;this.loading=!0,this.error=!1,this.api.list(this.path).then(function(e){Array.isArray(e.data)&&(e.data.sort(function(t,e){var n=t.type+"/"+t.basename,i=e.type+"/"+e.basename;return n.localeCompare(i)}),t.files=e.data),t.loading=!1},function(e){t.error=e.toString(),t.files=[],t.loading=!1})},browse:function(t){this.mmc.path=t},onMediaClick:function(t){if("dir"==t.type)this.browse(t.path);else{var e=this.mmc;e.isSelected(t)?e.unselectFile(t):e.checkFile(t)&&e.selectFile(t)}},onDocumentClick:function(t){this.toggleContextMenuOff()},onContextMenu:function(t,e){var n=this.mmc.$el.getBoundingClientRect();this.contextMenuFile=t,this.contextMenuX=e.clientX-n.left,this.contextMenuY=e.clientY-n.top,this.toggleContextMenuOn()},toggleContextMenuOn:function(){this.showContextMenu=!0,document.addEventListener("click",this.onDocumentClick)},toggleContextMenuOff:function(){this.contextMenuFile={},this.contextMenuX=0,this.contextMenuY=0,this.showContextMenu=!1,document.removeEventListener("click",this.onDocumentClick)}}}},function(t,e,n){"use strict";var i=n(1);n.n(i);e.a={props:["file"],computed:{mmc:function(){return this.$parent.$parent},selected:function(){return this.mmc.isSelected(this.file)},canDelete:function(){return this.mmc.options.api.deleteUrl},canRename:function(){return this.mmc.options.api.renameUrl}},methods:{deleteFile:function(t){this.mmc.deleteFile(t)},renameFile:function(t){this.mmc.renameFile(t)}}}},function(t,e,n){"use strict";var i=n(1),a=(n.n(i),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});e.a={props:["file"],computed:a({},Object(i.mapState)({options:function(t){return t.options}}),{mmc:function(){return this.$parent},api:function(){return this.mmc.api}}),methods:{onSelect:function(){this.mmc.selectFile(this.file),this.mmc.toggleDetailsOff()},onUnselect:function(){this.mmc.unselectFile(this.file),this.mmc.toggleDetailsOff()},onClose:function(){this.mmc.toggleDetailsOff()}}}},function(t,e,n){"use strict";e.a={components:{},data:function(){return{}},props:[],computed:{},watch:{},created:function(){},mounted:function(){},methods:{}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MM",function(){return c});var a=n(13),s=(n.n(a),n(2)),r=n.n(s),o=n(14),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e){i(this,t),this.options=e,this.init()}return l(t,null,[{key:"install",value:function(t,e){t.component("vue-media-manager",o.a)}}]),l(t,[{key:"init",value:function(){var t=this,e=document.querySelector(this.options.el);this.vm=new r.a({el:this.options.el,render:function(n){return n(o.a,{props:{id:e.id,opts:t.options}})}})}},{key:"destroy",value:function(){this.vm.$destroy(),this.vm.$el.innerHTML=""}}]),t}()},function(e,n){e.exports=t},function(t,e,n){"use strict";function i(t){n(15)}var a=n(3),s=n(40),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(17)}var a=n(4),s=n(37),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(19)}var a=n(5),s=n(20),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-widget"},[t.advancedUpload?[n("div",{staticClass:"upload-drop-zone",class:{"drag-over":t.dragOver}},[n("form",{ref:"form",staticClass:"animated fadeIn",attrs:{method:"post",enctype:"multipart/form-data"},on:{dragover:function(e){e.preventDefault(),t.dragOver=!0},dragenter:function(e){e.preventDefault(),t.dragOver=!0},dragleave:function(e){e.preventDefault(),t.dragOver=!1},dragend:function(e){e.preventDefault(),t.dragOver=!1},drop:function(e){return e.preventDefault(),t.onDrop(e)},submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("svg",{staticClass:"upload-widget-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"43",viewBox:"0 0 50 43"}},[n("path",{attrs:{d:"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"}})]),t._v(" "),n("label",{attrs:{for:t.fileInputId}},[n("strong",[t._v("Scegli un file")]),t._v(" "),n("span",[t._v("o trascinalo qui")]),t._v(".")]),t._v(" "),n("input",{ref:"fileInput",attrs:{id:t.fileInputId,type:"file",name:"files[]",multiple:""},on:{change:t.onSubmit}})])])]:[n("div",{staticClass:"alert alert-warning"},[t._v("Your browser does not support drag & drop file upload.")])]],2)},a=[],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t){n(22)}var a=n(7),s=n(23),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-status-widget panel-modal"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n            Upload Status\n            "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.onClose}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-bordered"},[n("tbody",t._l(t.uploads,function(e,i){return n("tr",[n("th",{domProps:{innerHTML:t._s(t.$options.filters.truncate(e.name))}}),t._v(" "),n("td",[n("div",{key:i,staticClass:"progress"},[n("div",{staticClass:"progress-bar",class:{"progress-bar-success":e.success,"progress-bar-danger":e.error},style:"width: "+t.uploadPercent(e)+"%;",attrs:{"aria-valuenow":t.uploadPercent(e),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}},[e.success?[t._v("File has been uploaded.")]:e.error?[t._v(t._s(e.error))]:[t._v(t._s(t.uploadPercent(e))+" %")]],2)])])])}),0)])])])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t){n(25)}var a=n(8),s=n(29),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";function i(t){n(27)}var a=n(9),s=n(28),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file",class:{selected:t.selected}},[n("div",{staticClass:"file-preview"},[t.file.thumb?[n("img",{staticClass:"thumb",attrs:{src:t.file.thumb}})]:"dir"==t.file.type?[t._m(0)]:[n("div",{staticClass:"icon"},[n("i",{class:t.mmc.faIconClass(t.file)})])]],2),t._v(" "),n("div",{staticClass:"file-title"},[n("h3",[t._v(t._s(t.file.basename))])]),t._v(" "),t.canDelete?n("div",{staticClass:"top right actions"},[n("button",{staticClass:"btn btn-default",on:{click:function(e){return e.stopPropagation(),t.deleteFile(t.file)}}},[n("i",{staticClass:"fa fa-fw fa-trash"})])]):t._e(),t._v(" "),t.canRename?n("div",{staticClass:"top left actions"},[n("button",{staticClass:"btn btn-default",on:{click:function(e){return e.stopPropagation(),t.renameFile(t.file)}}},[n("i",{staticClass:"fa fa-fw fa-pencil"})])]):t._e()])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-fw fa-folder"})])}],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"medias-widget clearfix"},[t.error?[n("div",{staticClass:"alert alert-warning animated fadeIn"},[t._v("\n            "+t._s(t.error)+"\n            "),n("p",[n("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.refresh()}}},[n("i",{staticClass:"fa fa-fw fa-refresh"}),t._v(" Click here to retry")])])])]:[n("div",{staticClass:"medias clearfix"},[t.loading?[t._m(0)]:[t.relPath?n("div",{staticClass:"file animated fadeIn",on:{click:function(e){return t.browse(t.pathUp)}}},[t._m(1)]):t._e(),t._v(" "),t.canCreateFolder&&!t.loading?n("div",{staticClass:"file animated fadeIn",on:{click:function(e){return t.createFolder()}}},[t._m(2)]):t._e(),t._v(" "),t._l(t.files,function(e){return n("media-widget",{key:e.path,staticClass:"animated fadeIn",class:{invalid:"dir"!==e.type&&!t.mmc.checkFile(e)},attrs:{file:e},nativeOn:{click:function(n){return t.onMediaClick(e)},contextmenu:function(n){return n.preventDefault(),t.onContextMenu(e,n)}}})})]],2),t._v(" "),n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.showContextMenu?n("div",{staticClass:"context-menu",style:t.contextMenuStyle},["dir"==t.contextMenuFile.type?n("ul",[n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onMediaClick(t.contextMenuFile)}}},[n("i",{staticClass:"fa fa-fw fa-folder-open"}),t._v(" Open")])])]):n("ul",[t.mmc.isSelected(t.contextMenuFile)?n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.mmc.unselectFile(t.contextMenuFile)}}},[n("i",{staticClass:"fa fa-fw fa-times"}),t._v(" Unselect")])]):n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.mmc.selectFile(t.contextMenuFile)}}},[n("i",{staticClass:"fa fa-fw fa-check"}),t._v(" Select")])])])]):t._e()])]],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file animated fadeIn"},[n("div",{staticClass:"file-preview"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-fw fa-spin fa-sync"})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-preview"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-fw fa-backward"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"file-preview"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"fas fa-fw fa-folder-plus"})])])}],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t){n(31)}var a=n(10),s=n(32),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"details-widget panel-modal"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n            Media Details\n            "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.onClose}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),n("div",{staticClass:"details-widget-content panel-body"},[n("table",{staticClass:"table table-bordered"},[n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"center"},attrs:{rowspan:"4"}},[t.file.thumb?n("img",{staticClass:"thumb",attrs:{src:t.file.thumb}}):n("div",{staticClass:"icon"},[n("i",{class:t.mmc.faIconClass(t.file)})])]),t._v(" "),n("th",[t._v("Name")]),t._v(" "),n("td",[t._v(t._s(t.file.basename))])]),t._v(" "),n("tr",[n("th",[t._v("Path")]),t._v(" "),n("td",[t._v(t._s(t.file.path))])]),t._v(" "),t.file.timestamp?n("tr",[n("th",[t._v("Date")]),t._v(" "),n("td",[t._v(t._s(t.file.timestamp))])]):t._e(),t._v(" "),t.file.size?n("tr",[n("th",[t._v("Size")]),t._v(" "),n("td",[t._v(t._s(t.file.size))])]):t._e()])]),t._v(" "),n("p",{staticClass:"buttons"},[n("button",{staticClass:"btn btn-default btn-sm",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.onClose(e)}}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),t._v(" Close")]),t._v(" "),"dir"!=t.file.type?[t.api.downloadUrl(t.file)?n("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:t.api.downloadUrl(t.file),role:"button"}},[n("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),t._v(" Download")]):t._e(),t._v(" "),t.mmc.isSelected(t.file)?n("button",{staticClass:"btn btn-primary btn-sm",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.onUnselect(e)}}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),t._v(" Unselect")]):n("button",{staticClass:"btn btn-primary btn-sm",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.onSelect(e)}}},[n("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}}),t._v(" Select")])]:t._e()],2)])])])},a=[],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t){n(34)}var a=n(11),s=n(35),r=n(0),o=i,l=r(a.a,s.a,!1,o,null,null);e.a=l.exports},function(t,e){},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"notification-widget"})},a=[],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=[{name:"file-alt",extensions:["txt"]},{name:"file-pdf",extensions:["pdf"]},{name:"file-word",extensions:["doc","docx"]},{name:"file-excel",extensions:["xls","xlsx"]},{name:"file-powerpoint",extensions:["ppt","pptx"]},{name:"file-code",extensions:["html","php","js","cs","java"]},{name:"file-video",extensions:["avi","mpg","mpeg","mp4","mov"]},{name:"file-audio",extensions:["mp3","wav","flac","ogg"]},{name:"file-archive",extensions:["zip","rar","7z","tar","gz","tgz"]}],r=function(){function t(){i(this,t)}return a(t,null,[{key:"getFaIconClass",value:function(t){var e="fa fa-fw fa-";if("dir"==t.type)return e+"folder";var n=s.find(function(e){return e.extensions.indexOf(t.extension)>=0});return e+=n?n.name:"file"}}]),t}();e.a=r},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mm",class:{"mm-fixed-height":t.options.height},style:t.options.height?"height:"+t.options.height:""},[n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.showDetails?n("details-widget",{key:"details",ref:"details",attrs:{file:t.file}}):t._e()],1),t._v(" "),n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.showUploadStatus?n("upload-status-widget",{key:"details",ref:"details",attrs:{uploads:t.uploads}}):t._e()],1),t._v(" "),n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-body"},[n("notification-widget"),t._v(" "),t.options.showBreadcrumb?n("ol",{staticClass:"breadcrumb"},t._l(t.breadcrumb,function(e){return n("li",{key:e.path},[n("a",{attrs:{href:"#"},domProps:{innerHTML:t._s(e.label)},on:{click:function(n){n.preventDefault(),t.path=e.path}}})])}),0):t._e(),t._v(" "),n("div",{staticClass:"mm-content"},[t.api.options.uploadUrl?n("upload-widget",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],key:"upload",ref:"upload",staticClass:"animated fadeIn",attrs:{path:t.path},on:{"upload-success":t.onUploadSuccess,"upload-error":t.onUploadError}}):t._e(),t._v(" "),n("medias-widget",{directives:[{name:"show",rawName:"v-show",value:t.showMedias,expression:"showMedias"}],key:"medias",ref:"medias",staticClass:"animated fadeIn",attrs:{path:t.path}})],1)],1)])],1)},a=[],s={render:i,staticRenderFns:a};e.a=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=n(6),s=n.n(a),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(){function t(e){i(this,t),this.options=r({},this.constructor.defaultOptions,e),this.options.baseUrl&&(this.options.axiosOptions.baseURL=this.options.baseUrl),this.axios=s.a.create(this.options.axiosOptions)}return o(t,null,[{key:"defaultOptions",get:function(){return{baseUrl:null,listUrl:null,downloadUrl:null,deleteUrl:null,renameUrl:null,createFolderUrl:null,uploadUrl:null,beforeUpload:null,axiosOptions:{}}}}]),o(t,[{key:"list",value:function(t){var e=this.computeConfig({params:{path:t}});return this.axios.get(this.options.listUrl,e)}},{key:"upload",value:function(t,e,n){var i=this,a=this.computeConfig(e),s={config:a,url:this.options.uploadUrl},r=Promise.resolve();return this.options.beforeUpload instanceof Function&&(r=Promise.all([this.options.beforeUpload(s,t,n)]).then(function(t){return t[0]})),r.then(function(){return i.axios.post(s.url,t,s.config).then(function(t){return i.options.afterUpload instanceof Function?i.options.afterUpload(t,s,n):t})})}},{key:"delete",value:function(t){var e=this.computeConfig({});return this.axios.delete(this.deleteUrl(t),e)}},{key:"rename",value:function(t,e){var n=this.computeConfig({});return this.axios.patch(this.renameUrl(t),{name:e},n)}},{key:"createFolderIn",value:function(t,e){var n=this.computeConfig({});return this.axios.post(this.createFolderUrl(t,e),{},n)}},{key:"computeConfig",value:function(t){if(!this.options.requestConfig)return t;var e=this.options.requestConfig;return e instanceof Function&&(e=e()),r({},t,e)}},{key:"downloadUrl",value:function(t){return this.options.downloadUrl&&this.options.downloadUrl+"?path="+t.path}},{key:"deleteUrl",value:function(t){return this.options.deleteUrl&&this.options.deleteUrl+"/"+t.path}},{key:"renameUrl",value:function(t){return this.options.renameUrl&&this.options.deleteUrl+"/"+t.path}},{key:"createFolderUrl",value:function(t,e){return this.options.createFolderUrl&&this.options.createFolderUrl+(t?"/"+t:"")+"/"+e}}]),t}();e.a=l},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){i(this,t)}return a(t,null,[{key:"create",value:function(t,e){var n=e.selected;return n&&(Array.isArray(n)?n=n.map(function(t){return"string"==typeof t?{path:t}:t}):"string"==typeof n&&(n={path:n})),{state:{mm:t,options:e,path:e.basePath+e.path,selected:n},mutations:{resetSelected:function(t){t.selected=null},addSelected:function(t,e){if(t.options.multipleSelection){if(Array.isArray(t.selected)){if(t.selected.findIndex(function(t){return t.path===e.path})>-1)return}else t.selected=[];t.selected.push(e)}else t.selected=e;t.selected=JSON.parse(JSON.stringify(t.selected)),t.mm.onSelect({selected:t.selected})},removeSelected:function(t,e){if(t.options.multipleSelection){if(!Array.isArray(t.selected))return;var n=t.selected.findIndex(function(t){return t.path===e.path});n>-1&&t.selected.splice(n,1)}else t.selected=null;t.selected=JSON.parse(JSON.stringify(t.selected)),t.mm.onSelect({selected:t.selected})},renameSelected:function(t,e){function n(t){t.path=a.path+t.path.substr(i.path.length);var e=t.path.substr(0,t.path.lastIndexOf("/")),n=e.lastIndexOf("/");t.dirname=-1!==n?e.substr(n+1):e,t.fileURL&&(t.fileURL=t.fileURL.replace("/"+i.path+"/","/"+a.path+"/")),t.thumb&&(t.thumb=t.thumb.replace("/"+i.path+"/","/"+a.path+"/"))}var i=e.file,a=e.newFile,s=!1;if(t.options.multipleSelection){if(!Array.isArray(t.selected))return;var r=t.selected.find(function(t){return t.path===i.path});r&&(Object.assign(r,a),s=!0),"dir"===i.type&&t.selected.filter(function(t){return 0===t.path.indexOf(i.path+"/")}).forEach(function(t){n(t),s=!0})}else t.selected&&t.selected.path===i.path&&(t.selected=a,s=!0),"dir"===i.type&&t.selected&&0===t.selected.path.indexOf(i.path+"/")&&(n(t.selected),s=!0);s&&t.mm.onSelect({selected:t.selected})}},getters:{isSelected:function(t,e){return function(e){if(t.options.multipleSelection){if(!Array.isArray(t.selected))return!1;return t.selected.findIndex(function(t){return t.path===e.path})>-1}return t.selected&&t.selected.path===e.path||!1}},nbSelected:function(t,e){return Array.isArray(t.selected)?t.selected.length:t.selected?1:0}}}}}]),t}();e.a=s},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-manager",attrs:{id:t.id}},[n("div",{ref:"mediaManager"})])},a=[],s={render:i,staticRenderFns:a};e.a=s}])});
//# sourceMappingURL=mm.min.js.map